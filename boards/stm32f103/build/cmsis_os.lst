ARM GAS  /tmp/ccr5mNtL.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"cmsis_os.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.makeFreeRtosPriority,"ax",%progbits
  16              		.align	1
  17              		.syntax unified
  18              		.thumb
  19              		.thumb_func
  20              		.fpu softvfp
  22              	makeFreeRtosPriority:
  23              	.LFB49:
  24              		.file 1 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c"
   1:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /* ----------------------------------------------------------------------
   2:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * $Date:        5. February 2013
   3:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * $Revision:    V1.02
   4:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *
   5:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Project:      CMSIS-RTOS API
   6:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Title:        cmsis_os.c
   7:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *
   8:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Version 0.02
   9:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    Initial Proposal Phase
  10:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Version 0.03
  11:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    osKernelStart added, optional feature: main started as thread
  12:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    osSemaphores have standard behavior
  13:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    osTimerCreate does not start the timer, added osTimerStart
  14:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    osThreadPass is renamed to osThreadYield
  15:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Version 1.01
  16:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    Support for C++ interface
  17:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *     - const attribute removed from the osXxxxDef_t typedef's
  18:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *     - const attribute added to the osXxxxDef macros
  19:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    Added: osTimerDelete, osMutexDelete, osSemaphoreDelete
  20:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    Added: osKernelInitialize
  21:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Version 1.02
  22:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    Control functions for short timeouts in microsecond resolution:
  23:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    Added: osKernelSysTick, osKernelSysTickFrequency, osKernelSysTickMicroSec
  24:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    Removed: osSignalGet 
  25:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    
  26:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *  
  27:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *----------------------------------------------------------------------------
  28:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *
  29:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Portions Copyright © 2016 STMicroelectronics International N.V. All rights reserved.
  30:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Portions Copyright (c) 2013 ARM LIMITED
  31:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * All rights reserved.
  32:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Redistribution and use in source and binary forms, with or without
  33:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * modification, are permitted provided that the following conditions are met:
  34:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *  - Redistributions of source code must retain the above copyright
ARM GAS  /tmp/ccr5mNtL.s 			page 2


  35:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    notice, this list of conditions and the following disclaimer.
  36:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *  - Redistributions in binary form must reproduce the above copyright
  37:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    notice, this list of conditions and the following disclaimer in the
  38:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    documentation and/or other materials provided with the distribution.
  39:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *  - Neither the name of ARM  nor the names of its contributors may be used
  40:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    to endorse or promote products derived from this software without
  41:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    specific prior written permission.
  42:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *
  43:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  44:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  45:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  46:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * ARE DISCLAIMED. IN NO EVENT SHALL COPYRIGHT HOLDERS AND CONTRIBUTORS BE
  47:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
  48:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
  49:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  50:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  51:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
  52:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  53:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * POSSIBILITY OF SUCH DAMAGE.
  54:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *---------------------------------------------------------------------------*/
  55:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
  56:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #include <string.h>
  57:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #include "cmsis_os.h"
  58:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
  59:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*
  60:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * ARM Compiler 4/5
  61:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  */
  62:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if   defined ( __CC_ARM )
  63:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
  64:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #define __ASM            __asm                                      
  65:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #define __INLINE         __inline                                     
  66:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #define __STATIC_INLINE  static __inline
  67:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
  68:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #include "cmsis_armcc.h"
  69:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
  70:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*
  71:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * GNU Compiler
  72:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  */
  73:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif defined ( __GNUC__ )
  74:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
  75:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #define __ASM            __asm                                      /*!< asm keyword for GNU Comp
  76:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #define __INLINE         inline                                     /*!< inline keyword for GNU C
  77:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #define __STATIC_INLINE  static inline
  78:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
  79:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #include "cmsis_gcc.h"
  80:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
  81:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
  82:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*
  83:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * IAR Compiler
  84:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  */
  85:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif defined ( __ICCARM__ )
  86:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
  87:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #ifndef   __ASM
  88:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     #define __ASM                     __asm
  89:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #endif
  90:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #ifndef   __INLINE
  91:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     #define __INLINE                  inline
ARM GAS  /tmp/ccr5mNtL.s 			page 3


  92:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #endif
  93:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #ifndef   __STATIC_INLINE
  94:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     #define __STATIC_INLINE           static inline
  95:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #endif
  96:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
  97:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #include <cmsis_iar.h>
  98:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
  99:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 100:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** extern void xPortSysTickHandler(void);
 101:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 102:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /* Convert from CMSIS type osPriority to FreeRTOS priority number */
 103:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** static unsigned portBASE_TYPE makeFreeRtosPriority (osPriority priority)
 104:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
  25              		.loc 1 104 0
  26              		.cfi_startproc
  27              		@ args = 0, pretend = 0, frame = 0
  28              		@ frame_needed = 0, uses_anonymous_args = 0
  29              		@ link register save eliminated.
  30              	.LVL0:
 105:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   unsigned portBASE_TYPE fpriority = tskIDLE_PRIORITY;
 106:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 107:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (priority != osPriorityError) {
  31              		.loc 1 107 0
  32 0000 8428     		cmp	r0, #132
  33 0002 01D0     		beq	.L3
 108:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     fpriority += (priority - osPriorityIdle);
  34              		.loc 1 108 0
  35 0004 0330     		adds	r0, r0, #3
  36              	.LVL1:
  37 0006 7047     		bx	lr
  38              	.LVL2:
  39              	.L3:
 105:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   unsigned portBASE_TYPE fpriority = tskIDLE_PRIORITY;
  40              		.loc 1 105 0
  41 0008 0020     		movs	r0, #0
  42              	.LVL3:
 109:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 110:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 111:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return fpriority;
 112:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
  43              		.loc 1 112 0
  44 000a 7047     		bx	lr
  45              		.cfi_endproc
  46              	.LFE49:
  48              		.section	.text.makeCmsisPriority,"ax",%progbits
  49              		.align	1
  50              		.syntax unified
  51              		.thumb
  52              		.thumb_func
  53              		.fpu softvfp
  55              	makeCmsisPriority:
  56              	.LFB50:
 113:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 114:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_uxTaskPriorityGet == 1)
 115:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /* Convert from FreeRTOS priority number to CMSIS type osPriority */
 116:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** static osPriority makeCmsisPriority (unsigned portBASE_TYPE fpriority)
 117:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
ARM GAS  /tmp/ccr5mNtL.s 			page 4


  57              		.loc 1 117 0
  58              		.cfi_startproc
  59              		@ args = 0, pretend = 0, frame = 0
  60              		@ frame_needed = 0, uses_anonymous_args = 0
  61              		@ link register save eliminated.
  62              	.LVL4:
 118:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osPriority priority = osPriorityError;
 119:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 120:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if ((fpriority - tskIDLE_PRIORITY) <= (osPriorityRealtime - osPriorityIdle)) {
  63              		.loc 1 120 0
  64 0000 0628     		cmp	r0, #6
  65 0002 01D9     		bls	.L7
 118:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osPriority priority = osPriorityError;
  66              		.loc 1 118 0
  67 0004 8420     		movs	r0, #132
  68              	.LVL5:
 121:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     priority = (osPriority)((int)osPriorityIdle + (int)(fpriority - tskIDLE_PRIORITY));
 122:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 123:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 124:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return priority;
 125:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
  69              		.loc 1 125 0
  70 0006 7047     		bx	lr
  71              	.LVL6:
  72              	.L7:
 121:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     priority = (osPriority)((int)osPriorityIdle + (int)(fpriority - tskIDLE_PRIORITY));
  73              		.loc 1 121 0
  74 0008 0338     		subs	r0, r0, #3
  75              	.LVL7:
  76 000a 00B2     		sxth	r0, r0
  77              	.LVL8:
  78 000c 7047     		bx	lr
  79              		.cfi_endproc
  80              	.LFE50:
  82              		.section	.text.inHandlerMode,"ax",%progbits
  83              		.align	1
  84              		.syntax unified
  85              		.thumb
  86              		.thumb_func
  87              		.fpu softvfp
  89              	inHandlerMode:
  90              	.LFB51:
 126:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 127:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 128:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 129:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /* Determine whether we are in thread mode or handler mode. */
 130:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** static int inHandlerMode (void)
 131:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
  91              		.loc 1 131 0
  92              		.cfi_startproc
  93              		@ args = 0, pretend = 0, frame = 0
  94              		@ frame_needed = 0, uses_anonymous_args = 0
  95              		@ link register save eliminated.
  96              	.LBB8:
  97              	.LBB9:
  98              		.file 2 "Drivers/CMSIS/Include/cmsis_gcc.h"
   1:Drivers/CMSIS/Include/cmsis_gcc.h **** /**************************************************************************//**
ARM GAS  /tmp/ccr5mNtL.s 			page 5


   2:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @file     cmsis_gcc.h
   3:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @brief    CMSIS compiler GCC header file
   4:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @version  V5.0.4
   5:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @date     09. April 2018
   6:Drivers/CMSIS/Include/cmsis_gcc.h ****  ******************************************************************************/
   7:Drivers/CMSIS/Include/cmsis_gcc.h **** /*
   8:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Copyright (c) 2009-2018 Arm Limited. All rights reserved.
   9:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  10:Drivers/CMSIS/Include/cmsis_gcc.h ****  * SPDX-License-Identifier: Apache-2.0
  11:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  12:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Licensed under the Apache License, Version 2.0 (the License); you may
  13:Drivers/CMSIS/Include/cmsis_gcc.h ****  * not use this file except in compliance with the License.
  14:Drivers/CMSIS/Include/cmsis_gcc.h ****  * You may obtain a copy of the License at
  15:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  16:Drivers/CMSIS/Include/cmsis_gcc.h ****  * www.apache.org/licenses/LICENSE-2.0
  17:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  18:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Unless required by applicable law or agreed to in writing, software
  19:Drivers/CMSIS/Include/cmsis_gcc.h ****  * distributed under the License is distributed on an AS IS BASIS, WITHOUT
  20:Drivers/CMSIS/Include/cmsis_gcc.h ****  * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  21:Drivers/CMSIS/Include/cmsis_gcc.h ****  * See the License for the specific language governing permissions and
  22:Drivers/CMSIS/Include/cmsis_gcc.h ****  * limitations under the License.
  23:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  24:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  25:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __CMSIS_GCC_H
  26:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_H
  27:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  28:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ignore some GCC warnings */
  29:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic push
  30:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wsign-conversion"
  31:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wconversion"
  32:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wunused-parameter"
  33:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  34:Drivers/CMSIS/Include/cmsis_gcc.h **** /* Fallback for __has_builtin */
  35:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __has_builtin
  36:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __has_builtin(x) (0)
  37:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  38:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  39:Drivers/CMSIS/Include/cmsis_gcc.h **** /* CMSIS compiler specific defines */
  40:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ASM
  41:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ASM                                  __asm
  42:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  43:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __INLINE
  44:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __INLINE                               inline
  45:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  46:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_INLINE
  47:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_INLINE                        static inline
  48:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  49:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_FORCEINLINE                 
  50:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_FORCEINLINE                   __attribute__((always_inline)) static inline
  51:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif                                           
  52:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __NO_RETURN
  53:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __NO_RETURN                            __attribute__((__noreturn__))
  54:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  55:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __USED
  56:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __USED                                 __attribute__((used))
  57:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  58:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __WEAK
ARM GAS  /tmp/ccr5mNtL.s 			page 6


  59:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __WEAK                                 __attribute__((weak))
  60:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  61:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED
  62:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED                               __attribute__((packed, aligned(1)))
  63:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  64:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_STRUCT
  65:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_STRUCT                        struct __attribute__((packed, aligned(1)))
  66:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  67:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_UNION
  68:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_UNION                         union __attribute__((packed, aligned(1)))
  69:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  70:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32        /* deprecated */
  71:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  72:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  73:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  74:Drivers/CMSIS/Include/cmsis_gcc.h ****   struct __attribute__((packed)) T_UINT32 { uint32_t v; };
  75:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  76:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32(x)                  (((struct T_UINT32 *)(x))->v)
  77:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  78:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_WRITE
  79:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  80:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  81:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  82:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_WRITE { uint16_t v; };
  83:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  84:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_WRITE(addr, val)    (void)((((struct T_UINT16_WRITE *)(void *)(addr))-
  85:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  86:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_READ
  87:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  88:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  89:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  90:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_READ { uint16_t v; };
  91:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  92:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_READ(addr)          (((const struct T_UINT16_READ *)(const void *)(add
  93:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  94:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_WRITE
  95:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  96:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  97:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  98:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_WRITE { uint32_t v; };
  99:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 100:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_WRITE(addr, val)    (void)((((struct T_UINT32_WRITE *)(void *)(addr))-
 101:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 102:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_READ
 103:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
 104:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
 105:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
 106:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_READ { uint32_t v; };
 107:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 108:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_READ(addr)          (((const struct T_UINT32_READ *)(const void *)(add
 109:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 110:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ALIGNED
 111:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ALIGNED(x)                           __attribute__((aligned(x)))
 112:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 113:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __RESTRICT
 114:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __RESTRICT                             __restrict
 115:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
ARM GAS  /tmp/ccr5mNtL.s 			page 7


 116:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 117:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 118:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ###########################  Core Function Access  ########################### */
 119:Drivers/CMSIS/Include/cmsis_gcc.h **** /** \ingroup  CMSIS_Core_FunctionInterface
 120:Drivers/CMSIS/Include/cmsis_gcc.h ****     \defgroup CMSIS_Core_RegAccFunctions CMSIS Core Register Access Functions
 121:Drivers/CMSIS/Include/cmsis_gcc.h ****   @{
 122:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 123:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 124:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 125:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Enable IRQ Interrupts
 126:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Enables IRQ interrupts by clearing the I-bit in the CPSR.
 127:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 128:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __enable_irq(void)
 130:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 131:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsie i" : : : "memory");
 132:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 133:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 134:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 135:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 136:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Disable IRQ Interrupts
 137:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Disables IRQ interrupts by setting the I-bit in the CPSR.
 138:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 139:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 140:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __disable_irq(void)
 141:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 142:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsid i" : : : "memory");
 143:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 144:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 145:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 146:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 147:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Control Register
 148:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the Control Register.
 149:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               Control Register value
 150:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 151:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_CONTROL(void)
 152:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 153:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 154:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 155:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, control" : "=r" (result) );
 156:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 157:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 158:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 159:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 160:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 161:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 162:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Control Register (non-secure)
 163:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the non-secure Control Register when in secure mode.
 164:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               non-secure Control Register value
 165:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 166:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_CONTROL_NS(void)
 167:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 168:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 169:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 170:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, control_ns" : "=r" (result) );
 171:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 172:Drivers/CMSIS/Include/cmsis_gcc.h **** }
ARM GAS  /tmp/ccr5mNtL.s 			page 8


 173:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 174:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 175:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 176:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 177:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Control Register
 178:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Writes the given value to the Control Register.
 179:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    control  Control Register value to set
 180:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 181:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_CONTROL(uint32_t control)
 182:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 183:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR control, %0" : : "r" (control) : "memory");
 184:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 185:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 186:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 187:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 188:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 189:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Control Register (non-secure)
 190:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Writes the given value to the non-secure Control Register when in secure state.
 191:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    control  Control Register value to set
 192:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 193:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_CONTROL_NS(uint32_t control)
 194:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 195:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR control_ns, %0" : : "r" (control) : "memory");
 196:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 197:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 198:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 199:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 200:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 201:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get IPSR Register
 202:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the IPSR Register.
 203:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               IPSR Register value
 204:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 205:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_IPSR(void)
 206:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 207:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 208:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 209:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, ipsr" : "=r" (result) );
  99              		.loc 2 209 0
 100              		.syntax unified
 101              	@ 209 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 102 0000 EFF30580 		MRS r0, ipsr
 103              	@ 0 "" 2
 104              		.thumb
 105              		.syntax unified
 106              	.LBE9:
 107              	.LBE8:
 132:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return __get_IPSR() != 0;
 133:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 108              		.loc 1 133 0
 109 0004 0030     		adds	r0, r0, #0
 110 0006 18BF     		it	ne
 111 0008 0120     		movne	r0, #1
 112 000a 7047     		bx	lr
 113              		.cfi_endproc
 114              	.LFE51:
 116              		.section	.text.osKernelStart,"ax",%progbits
 117              		.align	1
ARM GAS  /tmp/ccr5mNtL.s 			page 9


 118              		.global	osKernelStart
 119              		.syntax unified
 120              		.thumb
 121              		.thumb_func
 122              		.fpu softvfp
 124              	osKernelStart:
 125              	.LFB52:
 134:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 135:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*********************** Kernel Control Functions *****************************/
 136:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 137:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Initialize the RTOS Kernel for creating objects.
 138:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval status code that indicates the execution status of the function.
 139:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osKernelInitialize shall be consistent in every CMSIS-RTOS.
 140:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 141:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osKernelInitialize (void);
 142:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 143:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 144:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Start the RTOS Kernel with executing the specified thread.
 145:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  thread_def    thread definition referenced with \ref osThread.
 146:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  argument      pointer that is passed to the thread function as start argument.
 147:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval status code that indicates the execution status of the function
 148:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osKernelStart shall be consistent in every CMSIS-RTOS.
 149:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 150:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osKernelStart (void)
 151:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 126              		.loc 1 151 0
 127              		.cfi_startproc
 128              		@ args = 0, pretend = 0, frame = 0
 129              		@ frame_needed = 0, uses_anonymous_args = 0
 130 0000 08B5     		push	{r3, lr}
 131              	.LCFI0:
 132              		.cfi_def_cfa_offset 8
 133              		.cfi_offset 3, -8
 134              		.cfi_offset 14, -4
 152:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vTaskStartScheduler();
 135              		.loc 1 152 0
 136 0002 FFF7FEFF 		bl	vTaskStartScheduler
 137              	.LVL9:
 153:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 154:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 155:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 138              		.loc 1 155 0
 139 0006 0020     		movs	r0, #0
 140 0008 08BD     		pop	{r3, pc}
 141              		.cfi_endproc
 142              	.LFE52:
 144              		.section	.text.osKernelRunning,"ax",%progbits
 145              		.align	1
 146              		.global	osKernelRunning
 147              		.syntax unified
 148              		.thumb
 149              		.thumb_func
 150              		.fpu softvfp
 152              	osKernelRunning:
 153              	.LFB53:
 156:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 157:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
ARM GAS  /tmp/ccr5mNtL.s 			page 10


 158:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Check if the RTOS kernel is already started
 159:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  None
 160:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval (0) RTOS is not started
 161:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** *         (1) RTOS is started
 162:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** *         (-1) if this feature is disabled in FreeRTOSConfig.h 
 163:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note  MUST REMAIN UNCHANGED: \b osKernelRunning shall be consistent in every CMSIS-RTOS.
 164:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 165:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** int32_t osKernelRunning(void)
 166:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 154              		.loc 1 166 0
 155              		.cfi_startproc
 156              		@ args = 0, pretend = 0, frame = 0
 157              		@ frame_needed = 0, uses_anonymous_args = 0
 158 0000 08B5     		push	{r3, lr}
 159              	.LCFI1:
 160              		.cfi_def_cfa_offset 8
 161              		.cfi_offset 3, -8
 162              		.cfi_offset 14, -4
 167:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if ( ( INCLUDE_xTaskGetSchedulerState == 1 ) || ( configUSE_TIMERS == 1 ) )
 168:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (xTaskGetSchedulerState() == taskSCHEDULER_NOT_STARTED)
 163              		.loc 1 168 0
 164 0002 FFF7FEFF 		bl	xTaskGetSchedulerState
 165              	.LVL10:
 166 0006 0128     		cmp	r0, #1
 167 0008 01D0     		beq	.L15
 169:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return 0;
 170:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
 171:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return 1;
 168              		.loc 1 171 0
 169 000a 0120     		movs	r0, #1
 172:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 173:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	return (-1);
 174:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif	
 175:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 170              		.loc 1 175 0
 171 000c 08BD     		pop	{r3, pc}
 172              	.L15:
 169:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return 0;
 173              		.loc 1 169 0
 174 000e 0020     		movs	r0, #0
 175 0010 08BD     		pop	{r3, pc}
 176              		.cfi_endproc
 177              	.LFE53:
 179              		.section	.text.osKernelSysTick,"ax",%progbits
 180              		.align	1
 181              		.global	osKernelSysTick
 182              		.syntax unified
 183              		.thumb
 184              		.thumb_func
 185              		.fpu softvfp
 187              	osKernelSysTick:
 188              	.LFB54:
 176:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 177:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (defined (osFeature_SysTick)  &&  (osFeature_SysTick != 0))     // System Timer available
 178:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 179:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Get the value of the Kernel SysTick timer
 180:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  None
ARM GAS  /tmp/ccr5mNtL.s 			page 11


 181:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval None
 182:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osKernelSysTick shall be consistent in every CMSIS-RTOS.
 183:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 184:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** uint32_t osKernelSysTick(void)
 185:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 189              		.loc 1 185 0
 190              		.cfi_startproc
 191              		@ args = 0, pretend = 0, frame = 0
 192              		@ frame_needed = 0, uses_anonymous_args = 0
 193 0000 08B5     		push	{r3, lr}
 194              	.LCFI2:
 195              		.cfi_def_cfa_offset 8
 196              		.cfi_offset 3, -8
 197              		.cfi_offset 14, -4
 186:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 198              		.loc 1 186 0
 199 0002 FFF7FEFF 		bl	inHandlerMode
 200              	.LVL11:
 201 0006 10B9     		cbnz	r0, .L20
 187:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xTaskGetTickCountFromISR();
 188:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 189:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 190:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xTaskGetTickCount();
 202              		.loc 1 190 0
 203 0008 FFF7FEFF 		bl	xTaskGetTickCount
 204              	.LVL12:
 191:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 192:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 205              		.loc 1 192 0
 206 000c 08BD     		pop	{r3, pc}
 207              	.L20:
 187:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xTaskGetTickCountFromISR();
 208              		.loc 1 187 0
 209 000e FFF7FEFF 		bl	xTaskGetTickCountFromISR
 210              	.LVL13:
 211 0012 08BD     		pop	{r3, pc}
 212              		.cfi_endproc
 213              	.LFE54:
 215              		.section	.text.osThreadCreate,"ax",%progbits
 216              		.align	1
 217              		.global	osThreadCreate
 218              		.syntax unified
 219              		.thumb
 220              		.thumb_func
 221              		.fpu softvfp
 223              	osThreadCreate:
 224              	.LFB55:
 193:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif    // System Timer available
 194:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*********************** Thread Management *****************************/
 195:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 196:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Create a thread and add it to Active Threads and set it to state READY.
 197:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  thread_def    thread definition referenced with \ref osThread.
 198:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  argument      pointer that is passed to the thread function as start argument.
 199:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval thread ID for reference by other functions or NULL in case of error.
 200:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osThreadCreate shall be consistent in every CMSIS-RTOS.
 201:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 202:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osThreadId osThreadCreate (const osThreadDef_t *thread_def, void *argument)
ARM GAS  /tmp/ccr5mNtL.s 			page 12


 203:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 225              		.loc 1 203 0
 226              		.cfi_startproc
 227              		@ args = 0, pretend = 0, frame = 8
 228              		@ frame_needed = 0, uses_anonymous_args = 0
 229              	.LVL14:
 230 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 231              	.LCFI3:
 232              		.cfi_def_cfa_offset 28
 233              		.cfi_offset 4, -28
 234              		.cfi_offset 5, -24
 235              		.cfi_offset 6, -20
 236              		.cfi_offset 7, -16
 237              		.cfi_offset 8, -12
 238              		.cfi_offset 9, -8
 239              		.cfi_offset 14, -4
 240 0004 87B0     		sub	sp, sp, #28
 241              	.LCFI4:
 242              		.cfi_def_cfa_offset 56
 243 0006 0446     		mov	r4, r0
 244 0008 0F46     		mov	r7, r1
 204:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TaskHandle_t handle;
 205:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 206:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( configSUPPORT_STATIC_ALLOCATION == 1 ) &&  ( configSUPPORT_DYNAMIC_ALLOCATION == 1 )
 207:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if((thread_def->buffer != NULL) && (thread_def->controlblock != NULL)) {
 245              		.loc 1 207 0
 246 000a 4569     		ldr	r5, [r0, #20]
 247 000c BDB1     		cbz	r5, .L22
 248              		.loc 1 207 0 is_stmt 0 discriminator 1
 249 000e 8669     		ldr	r6, [r0, #24]
 250 0010 AEB1     		cbz	r6, .L22
 208:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     handle = xTaskCreateStatic((TaskFunction_t)thread_def->pthread,(const portCHAR *)thread_def->na
 251              		.loc 1 208 0 is_stmt 1
 252 0012 D0F80480 		ldr	r8, [r0, #4]
 253 0016 D0F80090 		ldr	r9, [r0]
 254 001a B0F90800 		ldrsh	r0, [r0, #8]
 255              	.LVL15:
 256 001e FFF7FEFF 		bl	makeFreeRtosPriority
 257              	.LVL16:
 258 0022 2269     		ldr	r2, [r4, #16]
 259 0024 0296     		str	r6, [sp, #8]
 260 0026 0195     		str	r5, [sp, #4]
 261 0028 0090     		str	r0, [sp]
 262 002a 3B46     		mov	r3, r7
 263 002c 4946     		mov	r1, r9
 264 002e 4046     		mov	r0, r8
 265 0030 FFF7FEFF 		bl	xTaskCreateStatic
 266              	.LVL17:
 267 0034 0590     		str	r0, [sp, #20]
 268              	.L23:
 209:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****               thread_def->stacksize, argument, makeFreeRtosPriority(thread_def->tpriority),
 210:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****               thread_def->buffer, thread_def->controlblock);
 211:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 212:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 213:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xTaskCreate((TaskFunction_t)thread_def->pthread,(const portCHAR *)thread_def->name,
 214:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****               thread_def->stacksize, argument, makeFreeRtosPriority(thread_def->tpriority),
 215:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****               &handle) != pdPASS)  {
ARM GAS  /tmp/ccr5mNtL.s 			page 13


 216:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return NULL;
 217:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     } 
 218:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 219:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif( configSUPPORT_STATIC_ALLOCATION == 1 )
 220:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 221:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     handle = xTaskCreateStatic((TaskFunction_t)thread_def->pthread,(const portCHAR *)thread_def->na
 222:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****               thread_def->stacksize, argument, makeFreeRtosPriority(thread_def->tpriority),
 223:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****               thread_def->buffer, thread_def->controlblock);
 224:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 225:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (xTaskCreate((TaskFunction_t)thread_def->pthread,(const portCHAR *)thread_def->name,
 226:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                    thread_def->stacksize, argument, makeFreeRtosPriority(thread_def->tpriority),
 227:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                    &handle) != pdPASS)  {
 228:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return NULL;
 229:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }     
 230:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 231:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 232:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return handle;
 269              		.loc 1 232 0
 270 0036 0598     		ldr	r0, [sp, #20]
 271              	.L21:
 233:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 272              		.loc 1 233 0
 273 0038 07B0     		add	sp, sp, #28
 274              	.LCFI5:
 275              		.cfi_remember_state
 276              		.cfi_def_cfa_offset 28
 277              		@ sp needed
 278 003a BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 279              	.LVL18:
 280              	.L22:
 281              	.LCFI6:
 282              		.cfi_restore_state
 213:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****               thread_def->stacksize, argument, makeFreeRtosPriority(thread_def->tpriority),
 283              		.loc 1 213 0
 284 003e 6568     		ldr	r5, [r4, #4]
 285 0040 2668     		ldr	r6, [r4]
 214:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****               &handle) != pdPASS)  {
 286              		.loc 1 214 0
 287 0042 D4F81080 		ldr	r8, [r4, #16]
 213:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****               thread_def->stacksize, argument, makeFreeRtosPriority(thread_def->tpriority),
 288              		.loc 1 213 0
 289 0046 B4F90800 		ldrsh	r0, [r4, #8]
 290              	.LVL19:
 291 004a FFF7FEFF 		bl	makeFreeRtosPriority
 292              	.LVL20:
 293 004e 05AB     		add	r3, sp, #20
 294 0050 0193     		str	r3, [sp, #4]
 295 0052 0090     		str	r0, [sp]
 296 0054 3B46     		mov	r3, r7
 297 0056 1FFA88F2 		uxth	r2, r8
 298 005a 3146     		mov	r1, r6
 299 005c 2846     		mov	r0, r5
 300 005e FFF7FEFF 		bl	xTaskCreate
 301              	.LVL21:
 302 0062 0128     		cmp	r0, #1
 303 0064 E7D0     		beq	.L23
 216:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     } 
ARM GAS  /tmp/ccr5mNtL.s 			page 14


 304              		.loc 1 216 0
 305 0066 0020     		movs	r0, #0
 306 0068 E6E7     		b	.L21
 307              		.cfi_endproc
 308              	.LFE55:
 310              		.section	.text.osThreadGetId,"ax",%progbits
 311              		.align	1
 312              		.global	osThreadGetId
 313              		.syntax unified
 314              		.thumb
 315              		.thumb_func
 316              		.fpu softvfp
 318              	osThreadGetId:
 319              	.LFB56:
 234:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 235:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 236:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Return the thread ID of the current running thread.
 237:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval thread ID for reference by other functions or NULL in case of error.
 238:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osThreadGetId shall be consistent in every CMSIS-RTOS.
 239:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 240:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osThreadId osThreadGetId (void)
 241:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 320              		.loc 1 241 0
 321              		.cfi_startproc
 322              		@ args = 0, pretend = 0, frame = 0
 323              		@ frame_needed = 0, uses_anonymous_args = 0
 324 0000 08B5     		push	{r3, lr}
 325              	.LCFI7:
 326              		.cfi_def_cfa_offset 8
 327              		.cfi_offset 3, -8
 328              		.cfi_offset 14, -4
 242:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if ( ( INCLUDE_xTaskGetCurrentTaskHandle == 1 ) || ( configUSE_MUTEXES == 1 ) )
 243:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xTaskGetCurrentTaskHandle();
 329              		.loc 1 243 0
 330 0002 FFF7FEFF 		bl	xTaskGetCurrentTaskHandle
 331              	.LVL22:
 244:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 245:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	return NULL;
 246:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 247:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 332              		.loc 1 247 0
 333 0006 08BD     		pop	{r3, pc}
 334              		.cfi_endproc
 335              	.LFE56:
 337              		.section	.text.osThreadTerminate,"ax",%progbits
 338              		.align	1
 339              		.global	osThreadTerminate
 340              		.syntax unified
 341              		.thumb
 342              		.thumb_func
 343              		.fpu softvfp
 345              	osThreadTerminate:
 346              	.LFB57:
 248:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 249:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 250:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Terminate execution of a thread and remove it from Active Threads.
 251:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id   thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
ARM GAS  /tmp/ccr5mNtL.s 			page 15


 252:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 253:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osThreadTerminate shall be consistent in every CMSIS-RTOS.
 254:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 255:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadTerminate (osThreadId thread_id)
 256:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 347              		.loc 1 256 0
 348              		.cfi_startproc
 349              		@ args = 0, pretend = 0, frame = 0
 350              		@ frame_needed = 0, uses_anonymous_args = 0
 351              	.LVL23:
 352 0000 08B5     		push	{r3, lr}
 353              	.LCFI8:
 354              		.cfi_def_cfa_offset 8
 355              		.cfi_offset 3, -8
 356              		.cfi_offset 14, -4
 257:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_vTaskDelete == 1)
 258:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vTaskDelete(thread_id);
 357              		.loc 1 258 0
 358 0002 FFF7FEFF 		bl	vTaskDelete
 359              	.LVL24:
 259:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 260:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 261:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osErrorOS;
 262:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 263:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 360              		.loc 1 263 0
 361 0006 0020     		movs	r0, #0
 362 0008 08BD     		pop	{r3, pc}
 363              		.cfi_endproc
 364              	.LFE57:
 366              		.section	.text.osThreadYield,"ax",%progbits
 367              		.align	1
 368              		.global	osThreadYield
 369              		.syntax unified
 370              		.thumb
 371              		.thumb_func
 372              		.fpu softvfp
 374              	osThreadYield:
 375              	.LFB58:
 264:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 265:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 266:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Pass control to next thread that is in state \b READY.
 267:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval status code that indicates the execution status of the function.
 268:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osThreadYield shall be consistent in every CMSIS-RTOS.
 269:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 270:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadYield (void)
 271:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 376              		.loc 1 271 0
 377              		.cfi_startproc
 378              		@ args = 0, pretend = 0, frame = 0
 379              		@ frame_needed = 0, uses_anonymous_args = 0
 380              		@ link register save eliminated.
 272:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   taskYIELD();
 381              		.loc 1 272 0
 382 0000 4FF08052 		mov	r2, #268435456
 383 0004 034B     		ldr	r3, .L32
 384 0006 1A60     		str	r2, [r3]
ARM GAS  /tmp/ccr5mNtL.s 			page 16


 385              		.syntax unified
 386              	@ 272 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 387 0008 BFF34F8F 		dsb
 388              	@ 0 "" 2
 389              	@ 272 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 390 000c BFF36F8F 		isb
 391              	@ 0 "" 2
 273:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 274:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 275:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 392              		.loc 1 275 0
 393              		.thumb
 394              		.syntax unified
 395 0010 0020     		movs	r0, #0
 396 0012 7047     		bx	lr
 397              	.L33:
 398              		.align	2
 399              	.L32:
 400 0014 04ED00E0 		.word	-536810236
 401              		.cfi_endproc
 402              	.LFE58:
 404              		.section	.text.osThreadSetPriority,"ax",%progbits
 405              		.align	1
 406              		.global	osThreadSetPriority
 407              		.syntax unified
 408              		.thumb
 409              		.thumb_func
 410              		.fpu softvfp
 412              	osThreadSetPriority:
 413              	.LFB59:
 276:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 277:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 278:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief   Change priority of an active thread.
 279:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id     thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
 280:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   priority      new priority value for the thread function.
 281:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 282:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osThreadSetPriority shall be consistent in every CMSIS-RTOS.
 283:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 284:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadSetPriority (osThreadId thread_id, osPriority priority)
 285:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 414              		.loc 1 285 0
 415              		.cfi_startproc
 416              		@ args = 0, pretend = 0, frame = 0
 417              		@ frame_needed = 0, uses_anonymous_args = 0
 418              	.LVL25:
 419 0000 10B5     		push	{r4, lr}
 420              	.LCFI9:
 421              		.cfi_def_cfa_offset 8
 422              		.cfi_offset 4, -8
 423              		.cfi_offset 14, -4
 424 0002 0446     		mov	r4, r0
 286:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_vTaskPrioritySet == 1)
 287:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vTaskPrioritySet(thread_id, makeFreeRtosPriority(priority));
 425              		.loc 1 287 0
 426 0004 0846     		mov	r0, r1
 427              	.LVL26:
 428 0006 FFF7FEFF 		bl	makeFreeRtosPriority
ARM GAS  /tmp/ccr5mNtL.s 			page 17


 429              	.LVL27:
 430 000a 0146     		mov	r1, r0
 431 000c 2046     		mov	r0, r4
 432 000e FFF7FEFF 		bl	vTaskPrioritySet
 433              	.LVL28:
 288:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 289:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 290:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osErrorOS;
 291:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 292:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 434              		.loc 1 292 0
 435 0012 0020     		movs	r0, #0
 436 0014 10BD     		pop	{r4, pc}
 437              		.cfi_endproc
 438              	.LFE59:
 440              		.section	.text.osThreadGetPriority,"ax",%progbits
 441              		.align	1
 442              		.global	osThreadGetPriority
 443              		.syntax unified
 444              		.thumb
 445              		.thumb_func
 446              		.fpu softvfp
 448              	osThreadGetPriority:
 449              	.LFB60:
 293:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 294:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 295:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief   Get current priority of an active thread.
 296:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id     thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
 297:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  current priority value of the thread function.
 298:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osThreadGetPriority shall be consistent in every CMSIS-RTOS.
 299:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 300:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osPriority osThreadGetPriority (osThreadId thread_id)
 301:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 450              		.loc 1 301 0
 451              		.cfi_startproc
 452              		@ args = 0, pretend = 0, frame = 0
 453              		@ frame_needed = 0, uses_anonymous_args = 0
 454              	.LVL29:
 455 0000 10B5     		push	{r4, lr}
 456              	.LCFI10:
 457              		.cfi_def_cfa_offset 8
 458              		.cfi_offset 4, -8
 459              		.cfi_offset 14, -4
 460 0002 0446     		mov	r4, r0
 302:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_uxTaskPriorityGet == 1)
 303:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode())
 461              		.loc 1 303 0
 462 0004 FFF7FEFF 		bl	inHandlerMode
 463              	.LVL30:
 464 0008 28B9     		cbnz	r0, .L40
 304:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 305:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return makeCmsisPriority(uxTaskPriorityGetFromISR(thread_id));  
 306:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 307:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
 308:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {  
 309:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return makeCmsisPriority(uxTaskPriorityGet(thread_id));
 465              		.loc 1 309 0
ARM GAS  /tmp/ccr5mNtL.s 			page 18


 466 000a 2046     		mov	r0, r4
 467 000c FFF7FEFF 		bl	uxTaskPriorityGet
 468              	.LVL31:
 469 0010 FFF7FEFF 		bl	makeCmsisPriority
 470              	.LVL32:
 310:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 311:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 312:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osPriorityError;
 313:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 314:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 471              		.loc 1 314 0
 472 0014 10BD     		pop	{r4, pc}
 473              	.LVL33:
 474              	.L40:
 305:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 475              		.loc 1 305 0
 476 0016 2046     		mov	r0, r4
 477 0018 FFF7FEFF 		bl	uxTaskPriorityGetFromISR
 478              	.LVL34:
 479 001c FFF7FEFF 		bl	makeCmsisPriority
 480              	.LVL35:
 481 0020 10BD     		pop	{r4, pc}
 482              		.cfi_endproc
 483              	.LFE60:
 485              		.section	.text.osDelay,"ax",%progbits
 486              		.align	1
 487              		.global	osDelay
 488              		.syntax unified
 489              		.thumb
 490              		.thumb_func
 491              		.fpu softvfp
 493              	osDelay:
 494              	.LFB61:
 315:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 316:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*********************** Generic Wait Functions *******************************/
 317:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 318:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief   Wait for Timeout (Time Delay)
 319:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   millisec      time delay value
 320:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 321:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 322:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osDelay (uint32_t millisec)
 323:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 495              		.loc 1 323 0
 496              		.cfi_startproc
 497              		@ args = 0, pretend = 0, frame = 0
 498              		@ frame_needed = 0, uses_anonymous_args = 0
 499              	.LVL36:
 500 0000 08B5     		push	{r3, lr}
 501              	.LCFI11:
 502              		.cfi_def_cfa_offset 8
 503              		.cfi_offset 3, -8
 504              		.cfi_offset 14, -4
 505              	.LVL37:
 324:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if INCLUDE_vTaskDelay
 325:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks = millisec / portTICK_PERIOD_MS;
 326:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 327:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vTaskDelay(ticks ? ticks : 1);          /* Minimum delay = 1 tick */
ARM GAS  /tmp/ccr5mNtL.s 			page 19


 506              		.loc 1 327 0
 507 0002 0346     		mov	r3, r0
 508 0004 00B9     		cbnz	r0, .L42
 509 0006 0123     		movs	r3, #1
 510              	.L42:
 511              		.loc 1 327 0 is_stmt 0 discriminator 4
 512 0008 1846     		mov	r0, r3
 513              	.LVL38:
 514 000a FFF7FEFF 		bl	vTaskDelay
 515              	.LVL39:
 328:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 329:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 330:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 331:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) millisec;
 332:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 333:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osErrorResource;
 334:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 335:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 516              		.loc 1 335 0 is_stmt 1 discriminator 4
 517 000e 0020     		movs	r0, #0
 518 0010 08BD     		pop	{r3, pc}
 519              		.cfi_endproc
 520              	.LFE61:
 522              		.section	.text.osTimerCreate,"ax",%progbits
 523              		.align	1
 524              		.global	osTimerCreate
 525              		.syntax unified
 526              		.thumb
 527              		.thumb_func
 528              		.fpu softvfp
 530              	osTimerCreate:
 531              	.LFB62:
 336:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 337:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (defined (osFeature_Wait)  &&  (osFeature_Wait != 0)) /* Generic Wait available */
 338:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 339:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Wait for Signal, Message, Mail, or Timeout
 340:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   millisec  timeout value or 0 in case of no time-out
 341:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  event that contains signal, message, or mail information or error code.
 342:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osWait shall be consistent in every CMSIS-RTOS.
 343:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 344:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osEvent osWait (uint32_t millisec);
 345:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 346:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif  /* Generic Wait available */
 347:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 348:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /***********************  Timer Management Functions ***************************/
 349:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 350:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Create a timer.
 351:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  timer_def     timer object referenced with \ref osTimer.
 352:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  type          osTimerOnce for one-shot or osTimerPeriodic for periodic behavior.
 353:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  argument      argument to the timer call back function.
 354:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  timer ID for reference by other functions or NULL in case of error.
 355:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osTimerCreate shall be consistent in every CMSIS-RTOS.
 356:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 357:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osTimerId osTimerCreate (const osTimerDef_t *timer_def, os_timer_type type, void *argument)
 358:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 532              		.loc 1 358 0
 533              		.cfi_startproc
ARM GAS  /tmp/ccr5mNtL.s 			page 20


 534              		@ args = 0, pretend = 0, frame = 0
 535              		@ frame_needed = 0, uses_anonymous_args = 0
 536              		@ link register save eliminated.
 537              	.LVL40:
 359:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_TIMERS == 1)
 360:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 361:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( ( configSUPPORT_STATIC_ALLOCATION == 1 ) && ( configSUPPORT_DYNAMIC_ALLOCATION == 1 ) ) 
 362:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if(timer_def->controlblock != NULL) {
 363:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xTimerCreateStatic((const char *)"",
 364:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       1, // period should be filled when starting the Timer using osTimerStart
 365:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (type == osTimerPeriodic) ? pdTRUE : pdFALSE,
 366:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (void *) argument,
 367:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (TaskFunction_t)timer_def->ptimer,
 368:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (StaticTimer_t *)timer_def->controlblock);
 369:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 370:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 371:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xTimerCreate((const char *)"",
 372:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       1, // period should be filled when starting the Timer using osTimerStart
 373:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (type == osTimerPeriodic) ? pdTRUE : pdFALSE,
 374:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (void *) argument,
 375:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (TaskFunction_t)timer_def->ptimer);
 376:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  }
 377:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif( configSUPPORT_STATIC_ALLOCATION == 1 )
 378:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xTimerCreateStatic((const char *)"",
 379:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       1, // period should be filled when starting the Timer using osTimerStart
 380:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (type == osTimerPeriodic) ? pdTRUE : pdFALSE,
 381:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (void *) argument,
 382:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (TaskFunction_t)timer_def->ptimer,
 383:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (StaticTimer_t *)timer_def->controlblock);  
 384:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 385:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xTimerCreate((const char *)"",
 386:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       1, // period should be filled when starting the Timer using osTimerStart
 387:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (type == osTimerPeriodic) ? pdTRUE : pdFALSE,
 388:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (void *) argument,
 389:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (TaskFunction_t)timer_def->ptimer);
 390:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 391:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 392:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else 
 393:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	return NULL;
 394:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 395:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 538              		.loc 1 395 0
 539 0000 0020     		movs	r0, #0
 540              	.LVL41:
 541 0002 7047     		bx	lr
 542              		.cfi_endproc
 543              	.LFE62:
 545              		.section	.text.osTimerStart,"ax",%progbits
 546              		.align	1
 547              		.global	osTimerStart
 548              		.syntax unified
 549              		.thumb
 550              		.thumb_func
 551              		.fpu softvfp
 553              	osTimerStart:
 554              	.LFB63:
 396:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
ARM GAS  /tmp/ccr5mNtL.s 			page 21


 397:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 398:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Start or restart a timer.
 399:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  timer_id      timer ID obtained by \ref osTimerCreate.
 400:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec      time delay value of the timer.
 401:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function
 402:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osTimerStart shall be consistent in every CMSIS-RTOS.
 403:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 404:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osTimerStart (osTimerId timer_id, uint32_t millisec)
 405:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 555              		.loc 1 405 0
 556              		.cfi_startproc
 557              		@ args = 0, pretend = 0, frame = 0
 558              		@ frame_needed = 0, uses_anonymous_args = 0
 559              		@ link register save eliminated.
 560              	.LVL42:
 406:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osStatus result = osOK;
 407:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_TIMERS == 1)  
 408:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;
 409:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks = millisec / portTICK_PERIOD_MS;
 410:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 411:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (ticks == 0)
 412:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = 1;
 413:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     
 414:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) 
 415:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 416:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xTimerChangePeriodFromISR(timer_id, ticks, &taskWoken) != pdPASS)
 417:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     {
 418:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       result = osErrorOS;
 419:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 420:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else
 421:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     {
 422:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       portEND_SWITCHING_ISR(taskWoken);     
 423:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 424:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 425:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else 
 426:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 427:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xTimerChangePeriod(timer_id, ticks, 0) != pdPASS)
 428:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       result = osErrorOS;
 429:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 430:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 431:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else 
 432:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   result = osErrorOS;
 433:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 434:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return result;
 435:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 561              		.loc 1 435 0
 562 0000 FF20     		movs	r0, #255
 563              	.LVL43:
 564 0002 7047     		bx	lr
 565              		.cfi_endproc
 566              	.LFE63:
 568              		.section	.text.osTimerStop,"ax",%progbits
 569              		.align	1
 570              		.global	osTimerStop
 571              		.syntax unified
 572              		.thumb
 573              		.thumb_func
ARM GAS  /tmp/ccr5mNtL.s 			page 22


 574              		.fpu softvfp
 576              	osTimerStop:
 577              	.LFB64:
 436:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 437:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 438:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Stop a timer.
 439:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  timer_id      timer ID obtained by \ref osTimerCreate
 440:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 441:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osTimerStop shall be consistent in every CMSIS-RTOS.
 442:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 443:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osTimerStop (osTimerId timer_id)
 444:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 578              		.loc 1 444 0
 579              		.cfi_startproc
 580              		@ args = 0, pretend = 0, frame = 0
 581              		@ frame_needed = 0, uses_anonymous_args = 0
 582              		@ link register save eliminated.
 583              	.LVL44:
 445:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osStatus result = osOK;
 446:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_TIMERS == 1)  
 447:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;
 448:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 449:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 450:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xTimerStopFromISR(timer_id, &taskWoken) != pdPASS) {
 451:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 452:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 453:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portEND_SWITCHING_ISR(taskWoken);
 454:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 455:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 456:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xTimerStop(timer_id, 0) != pdPASS) {
 457:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       result = osErrorOS;
 458:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 459:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 460:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else 
 461:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   result = osErrorOS;
 462:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif 
 463:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return result;
 464:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 584              		.loc 1 464 0
 585 0000 FF20     		movs	r0, #255
 586              	.LVL45:
 587 0002 7047     		bx	lr
 588              		.cfi_endproc
 589              	.LFE64:
 591              		.section	.text.osTimerDelete,"ax",%progbits
 592              		.align	1
 593              		.global	osTimerDelete
 594              		.syntax unified
 595              		.thumb
 596              		.thumb_func
 597              		.fpu softvfp
 599              	osTimerDelete:
 600              	.LFB65:
 465:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 466:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 467:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Delete a timer.
 468:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  timer_id      timer ID obtained by \ref osTimerCreate
ARM GAS  /tmp/ccr5mNtL.s 			page 23


 469:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 470:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osTimerDelete shall be consistent in every CMSIS-RTOS.
 471:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 472:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osTimerDelete (osTimerId timer_id)
 473:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 601              		.loc 1 473 0
 602              		.cfi_startproc
 603              		@ args = 0, pretend = 0, frame = 0
 604              		@ frame_needed = 0, uses_anonymous_args = 0
 605              		@ link register save eliminated.
 606              	.LVL46:
 474:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus result = osOK;
 475:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 476:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_TIMERS == 1)
 477:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 478:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****    if (inHandlerMode()) {
 479:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****      return osErrorISR;
 480:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 481:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else { 
 482:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if ((xTimerDelete(timer_id, osWaitForever )) != pdPASS) {
 483:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       result = osErrorOS;
 484:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 485:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   } 
 486:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     
 487:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else 
 488:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   result = osErrorOS;
 489:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif 
 490:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  
 491:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return result;
 492:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 607              		.loc 1 492 0
 608 0000 FF20     		movs	r0, #255
 609              	.LVL47:
 610 0002 7047     		bx	lr
 611              		.cfi_endproc
 612              	.LFE65:
 614              		.section	.text.osSignalSet,"ax",%progbits
 615              		.align	1
 616              		.global	osSignalSet
 617              		.syntax unified
 618              		.thumb
 619              		.thumb_func
 620              		.fpu softvfp
 622              	osSignalSet:
 623              	.LFB66:
 493:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 494:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /***************************  Signal Management ********************************/
 495:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 496:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Set the specified Signal Flags of an active thread.
 497:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  thread_id     thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
 498:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  signals       specifies the signal flags of the thread that should be set.
 499:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval previous signal flags of the specified thread or 0x80000000 in case of incorrect paramete
 500:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osSignalSet shall be consistent in every CMSIS-RTOS.
 501:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 502:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** int32_t osSignalSet (osThreadId thread_id, int32_t signal)
 503:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 624              		.loc 1 503 0
ARM GAS  /tmp/ccr5mNtL.s 			page 24


 625              		.cfi_startproc
 626              		@ args = 0, pretend = 0, frame = 8
 627              		@ frame_needed = 0, uses_anonymous_args = 0
 628              	.LVL48:
 629 0000 30B5     		push	{r4, r5, lr}
 630              	.LCFI12:
 631              		.cfi_def_cfa_offset 12
 632              		.cfi_offset 4, -12
 633              		.cfi_offset 5, -8
 634              		.cfi_offset 14, -4
 635 0002 85B0     		sub	sp, sp, #20
 636              	.LCFI13:
 637              		.cfi_def_cfa_offset 32
 638 0004 0446     		mov	r4, r0
 639 0006 0D46     		mov	r5, r1
 504:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( configUSE_TASK_NOTIFICATIONS == 1 )	
 505:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   BaseType_t xHigherPriorityTaskWoken = pdFALSE;
 640              		.loc 1 505 0
 641 0008 0023     		movs	r3, #0
 642 000a 0393     		str	r3, [sp, #12]
 506:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t ulPreviousNotificationValue = 0;
 643              		.loc 1 506 0
 644 000c 0293     		str	r3, [sp, #8]
 507:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 508:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode())
 645              		.loc 1 508 0
 646 000e FFF7FEFF 		bl	inHandlerMode
 647              	.LVL49:
 648 0012 A0B1     		cbz	r0, .L50
 509:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 510:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if(xTaskGenericNotifyFromISR( thread_id , (uint32_t)signal, eSetBits, &ulPreviousNotificationVa
 649              		.loc 1 510 0
 650 0014 03AB     		add	r3, sp, #12
 651 0016 0093     		str	r3, [sp]
 652 0018 02AB     		add	r3, sp, #8
 653 001a 0122     		movs	r2, #1
 654 001c 2946     		mov	r1, r5
 655 001e 2046     		mov	r0, r4
 656 0020 FFF7FEFF 		bl	xTaskGenericNotifyFromISR
 657              	.LVL50:
 658 0024 0128     		cmp	r0, #1
 659 0026 15D1     		bne	.L53
 511:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return 0x80000000;
 512:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     
 513:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portYIELD_FROM_ISR( xHigherPriorityTaskWoken );
 660              		.loc 1 513 0
 661 0028 039B     		ldr	r3, [sp, #12]
 662 002a 83B1     		cbz	r3, .L52
 663              		.loc 1 513 0 is_stmt 0 discriminator 1
 664 002c 4FF08052 		mov	r2, #268435456
 665 0030 0B4B     		ldr	r3, .L56
 666 0032 1A60     		str	r2, [r3]
 667              		.syntax unified
 668              	@ 513 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 669 0034 BFF34F8F 		dsb
 670              	@ 0 "" 2
 671              	@ 513 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
ARM GAS  /tmp/ccr5mNtL.s 			page 25


 672 0038 BFF36F8F 		isb
 673              	@ 0 "" 2
 674              		.thumb
 675              		.syntax unified
 676 003c 07E0     		b	.L52
 677              	.L50:
 514:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }  
 515:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if(xTaskGenericNotify( thread_id , (uint32_t)signal, eSetBits, &ulPreviousNotificationValue)
 678              		.loc 1 515 0 is_stmt 1
 679 003e 02AB     		add	r3, sp, #8
 680 0040 0122     		movs	r2, #1
 681 0042 2946     		mov	r1, r5
 682 0044 2046     		mov	r0, r4
 683 0046 FFF7FEFF 		bl	xTaskGenericNotify
 684              	.LVL51:
 685 004a 0128     		cmp	r0, #1
 686 004c 05D1     		bne	.L54
 687              	.L52:
 516:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return 0x80000000;
 517:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 518:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return ulPreviousNotificationValue;
 688              		.loc 1 518 0
 689 004e 0298     		ldr	r0, [sp, #8]
 690              	.L49:
 519:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 520:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) thread_id;
 521:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) signal;
 522:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 523:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return 0x80000000; /* Task Notification not supported */ 	
 524:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 525:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 691              		.loc 1 525 0
 692 0050 05B0     		add	sp, sp, #20
 693              	.LCFI14:
 694              		.cfi_remember_state
 695              		.cfi_def_cfa_offset 12
 696              		@ sp needed
 697 0052 30BD     		pop	{r4, r5, pc}
 698              	.LVL52:
 699              	.L53:
 700              	.LCFI15:
 701              		.cfi_restore_state
 511:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     
 702              		.loc 1 511 0
 703 0054 4FF00040 		mov	r0, #-2147483648
 704 0058 FAE7     		b	.L49
 705              	.L54:
 516:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return 0x80000000;
 706              		.loc 1 516 0
 707 005a 4FF00040 		mov	r0, #-2147483648
 708 005e F7E7     		b	.L49
 709              	.L57:
 710              		.align	2
 711              	.L56:
 712 0060 04ED00E0 		.word	-536810236
 713              		.cfi_endproc
 714              	.LFE66:
ARM GAS  /tmp/ccr5mNtL.s 			page 26


 716              		.section	.text.osSignalWait,"ax",%progbits
 717              		.align	1
 718              		.global	osSignalWait
 719              		.syntax unified
 720              		.thumb
 721              		.thumb_func
 722              		.fpu softvfp
 724              	osSignalWait:
 725              	.LFB67:
 526:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 527:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 528:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Clear the specified Signal Flags of an active thread.
 529:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  thread_id  thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
 530:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  signals    specifies the signal flags of the thread that shall be cleared.
 531:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  previous signal flags of the specified thread or 0x80000000 in case of incorrect paramet
 532:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osSignalClear shall be consistent in every CMSIS-RTOS.
 533:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 534:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** int32_t osSignalClear (osThreadId thread_id, int32_t signal);
 535:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 536:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 537:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Wait for one or more Signal Flags to become signaled for the current \b RUNNING thread.
 538:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  signals   wait until all specified signal flags set or 0 for any single signal flag.
 539:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec  timeout value or 0 in case of no time-out.
 540:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  event flag information or error code.
 541:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osSignalWait shall be consistent in every CMSIS-RTOS.
 542:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 543:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osEvent osSignalWait (int32_t signals, uint32_t millisec)
 544:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 726              		.loc 1 544 0
 727              		.cfi_startproc
 728              		@ args = 0, pretend = 0, frame = 16
 729              		@ frame_needed = 0, uses_anonymous_args = 0
 730              	.LVL53:
 731 0000 70B5     		push	{r4, r5, r6, lr}
 732              	.LCFI16:
 733              		.cfi_def_cfa_offset 16
 734              		.cfi_offset 4, -16
 735              		.cfi_offset 5, -12
 736              		.cfi_offset 6, -8
 737              		.cfi_offset 14, -4
 738 0002 84B0     		sub	sp, sp, #16
 739              	.LCFI17:
 740              		.cfi_def_cfa_offset 32
 741 0004 0446     		mov	r4, r0
 742 0006 0E46     		mov	r6, r1
 545:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osEvent ret;
 546:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 547:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( configUSE_TASK_NOTIFICATIONS == 1 )
 548:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	
 549:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
 550:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 551:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ret.value.signals = 0;  
 743              		.loc 1 551 0
 744 0008 0023     		movs	r3, #0
 745 000a 0293     		str	r3, [sp, #8]
 746              	.LVL54:
 552:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = 0;
ARM GAS  /tmp/ccr5mNtL.s 			page 27


 553:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) {
 747              		.loc 1 553 0
 748 000c B2F1FF3F 		cmp	r2, #-1
 749 0010 0FD0     		beq	.L65
 750 0012 1546     		mov	r5, r2
 554:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = portMAX_DELAY;
 555:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 556:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (millisec != 0) {
 751              		.loc 1 556 0
 752 0014 02B9     		cbnz	r2, .L59
 552:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = 0;
 753              		.loc 1 552 0
 754 0016 1D46     		mov	r5, r3
 755              	.L59:
 756              	.LVL55:
 557:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = millisec / portTICK_PERIOD_MS;
 558:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (ticks == 0) {
 559:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ticks = 1;
 560:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 561:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }  
 562:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 563:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode())
 757              		.loc 1 563 0
 758 0018 FFF7FEFF 		bl	inHandlerMode
 759              	.LVL56:
 760 001c 60B1     		cbz	r0, .L60
 564:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 565:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ret.status = osErrorISR;  /*Not allowed in ISR*/
 761              		.loc 1 565 0
 762 001e 8223     		movs	r3, #130
 763 0020 0193     		str	r3, [sp, #4]
 764              	.L61:
 566:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 567:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
 568:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 569:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if(xTaskNotifyWait( 0,(uint32_t) signals, (uint32_t *)&ret.value.signals, ticks) != pdTRUE)
 570:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     {
 571:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       if(ticks == 0)  ret.status = osOK;
 572:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       else  ret.status = osEventTimeout;
 573:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 574:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else if(ret.value.signals < 0)
 575:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     {
 576:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ret.status =  osErrorValue;     
 577:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 578:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else  ret.status =  osEventSignal;
 579:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 580:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 581:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) signals;
 582:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) millisec;
 583:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	
 584:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ret.status =  osErrorOS;	/* Task Notification not supported */
 585:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 586:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 587:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return ret;
 765              		.loc 1 587 0
 766 0022 04AB     		add	r3, sp, #16
 767 0024 13E90700 		ldmdb	r3, {r0, r1, r2}
ARM GAS  /tmp/ccr5mNtL.s 			page 28


 768 0028 84E80700 		stm	r4, {r0, r1, r2}
 588:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 769              		.loc 1 588 0
 770 002c 2046     		mov	r0, r4
 771 002e 04B0     		add	sp, sp, #16
 772              	.LCFI18:
 773              		.cfi_remember_state
 774              		.cfi_def_cfa_offset 16
 775              		@ sp needed
 776 0030 70BD     		pop	{r4, r5, r6, pc}
 777              	.LVL57:
 778              	.L65:
 779              	.LCFI19:
 780              		.cfi_restore_state
 554:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 781              		.loc 1 554 0
 782 0032 4FF0FF35 		mov	r5, #-1
 783 0036 EFE7     		b	.L59
 784              	.LVL58:
 785              	.L60:
 569:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     {
 786              		.loc 1 569 0
 787 0038 2B46     		mov	r3, r5
 788 003a 02AA     		add	r2, sp, #8
 789 003c 3146     		mov	r1, r6
 790 003e 0020     		movs	r0, #0
 791 0040 FFF7FEFF 		bl	xTaskNotifyWait
 792              	.LVL59:
 793 0044 0128     		cmp	r0, #1
 794 0046 06D0     		beq	.L62
 571:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       else  ret.status = osEventTimeout;
 795              		.loc 1 571 0
 796 0048 15B9     		cbnz	r5, .L63
 571:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       else  ret.status = osEventTimeout;
 797              		.loc 1 571 0 is_stmt 0 discriminator 1
 798 004a 0023     		movs	r3, #0
 799 004c 0193     		str	r3, [sp, #4]
 800 004e E8E7     		b	.L61
 801              	.L63:
 572:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 802              		.loc 1 572 0 is_stmt 1
 803 0050 4023     		movs	r3, #64
 804 0052 0193     		str	r3, [sp, #4]
 805 0054 E5E7     		b	.L61
 806              	.L62:
 574:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     {
 807              		.loc 1 574 0
 808 0056 029B     		ldr	r3, [sp, #8]
 809 0058 002B     		cmp	r3, #0
 810 005a 02DB     		blt	.L67
 578:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 811              		.loc 1 578 0
 812 005c 0823     		movs	r3, #8
 813 005e 0193     		str	r3, [sp, #4]
 814 0060 DFE7     		b	.L61
 815              	.L67:
 576:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
ARM GAS  /tmp/ccr5mNtL.s 			page 29


 816              		.loc 1 576 0
 817 0062 8623     		movs	r3, #134
 818 0064 0193     		str	r3, [sp, #4]
 819 0066 DCE7     		b	.L61
 820              		.cfi_endproc
 821              	.LFE67:
 823              		.section	.text.osMutexCreate,"ax",%progbits
 824              		.align	1
 825              		.global	osMutexCreate
 826              		.syntax unified
 827              		.thumb
 828              		.thumb_func
 829              		.fpu softvfp
 831              	osMutexCreate:
 832              	.LFB68:
 589:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 590:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /****************************  Mutex Management ********************************/
 591:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 592:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Create and Initialize a Mutex object
 593:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  mutex_def     mutex definition referenced with \ref osMutex.
 594:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  mutex ID for reference by other functions or NULL in case of error.
 595:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMutexCreate shall be consistent in every CMSIS-RTOS.
 596:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 597:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osMutexId osMutexCreate (const osMutexDef_t *mutex_def)
 598:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 833              		.loc 1 598 0
 834              		.cfi_startproc
 835              		@ args = 0, pretend = 0, frame = 0
 836              		@ frame_needed = 0, uses_anonymous_args = 0
 837              	.LVL60:
 838 0000 08B5     		push	{r3, lr}
 839              	.LCFI20:
 840              		.cfi_def_cfa_offset 8
 841              		.cfi_offset 3, -8
 842              		.cfi_offset 14, -4
 599:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if ( configUSE_MUTEXES == 1)
 600:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 601:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( configSUPPORT_STATIC_ALLOCATION == 1 ) && ( configSUPPORT_DYNAMIC_ALLOCATION == 1 )
 602:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 603:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (mutex_def->controlblock != NULL) {
 843              		.loc 1 603 0
 844 0002 4168     		ldr	r1, [r0, #4]
 845 0004 19B1     		cbz	r1, .L69
 604:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xSemaphoreCreateMutexStatic( mutex_def->controlblock );
 846              		.loc 1 604 0
 847 0006 0120     		movs	r0, #1
 848              	.LVL61:
 849 0008 FFF7FEFF 		bl	xQueueCreateMutexStatic
 850              	.LVL62:
 851 000c 08BD     		pop	{r3, pc}
 852              	.LVL63:
 853              	.L69:
 605:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****      }
 606:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 607:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xSemaphoreCreateMutex(); 
 854              		.loc 1 607 0
 855 000e 0120     		movs	r0, #1
ARM GAS  /tmp/ccr5mNtL.s 			page 30


 856              	.LVL64:
 857 0010 FFF7FEFF 		bl	xQueueCreateMutex
 858              	.LVL65:
 608:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 609:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif ( configSUPPORT_STATIC_ALLOCATION == 1 )
 610:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xSemaphoreCreateMutexStatic( mutex_def->controlblock );
 611:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else  
 612:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xSemaphoreCreateMutex(); 
 613:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 614:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 615:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return NULL;
 616:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 617:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 859              		.loc 1 617 0
 860 0014 08BD     		pop	{r3, pc}
 861              		.cfi_endproc
 862              	.LFE68:
 864              		.section	.text.osMutexWait,"ax",%progbits
 865              		.align	1
 866              		.global	osMutexWait
 867              		.syntax unified
 868              		.thumb
 869              		.thumb_func
 870              		.fpu softvfp
 872              	osMutexWait:
 873              	.LFB69:
 618:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 619:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 620:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Wait until a Mutex becomes available
 621:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param mutex_id      mutex ID obtained by \ref osMutexCreate.
 622:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param millisec      timeout value or 0 in case of no time-out.
 623:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 624:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMutexWait shall be consistent in every CMSIS-RTOS.
 625:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 626:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osMutexWait (osMutexId mutex_id, uint32_t millisec)
 627:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 874              		.loc 1 627 0
 875              		.cfi_startproc
 876              		@ args = 0, pretend = 0, frame = 8
 877              		@ frame_needed = 0, uses_anonymous_args = 0
 878              	.LVL66:
 879 0000 30B5     		push	{r4, r5, lr}
 880              	.LCFI21:
 881              		.cfi_def_cfa_offset 12
 882              		.cfi_offset 4, -12
 883              		.cfi_offset 5, -8
 884              		.cfi_offset 14, -4
 885 0002 83B0     		sub	sp, sp, #12
 886              	.LCFI22:
 887              		.cfi_def_cfa_offset 24
 628:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
 629:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;  
 888              		.loc 1 629 0
 889 0004 0023     		movs	r3, #0
 890 0006 0193     		str	r3, [sp, #4]
 630:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 631:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
ARM GAS  /tmp/ccr5mNtL.s 			page 31


 632:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (mutex_id == NULL) {
 891              		.loc 1 632 0
 892 0008 50B3     		cbz	r0, .L76
 893 000a 0C46     		mov	r4, r1
 894 000c 0546     		mov	r5, r0
 895              	.LVL67:
 633:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
 634:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 635:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 636:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = 0;
 637:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) {
 896              		.loc 1 637 0
 897 000e B1F1FF3F 		cmp	r1, #-1
 898 0012 0DD0     		beq	.L77
 638:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = portMAX_DELAY;
 639:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 640:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (millisec != 0) {
 899              		.loc 1 640 0
 900 0014 01B9     		cbnz	r1, .L74
 636:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) {
 901              		.loc 1 636 0
 902 0016 1C46     		mov	r4, r3
 903              	.L74:
 904              	.LVL68:
 641:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = millisec / portTICK_PERIOD_MS;
 642:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (ticks == 0) {
 643:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ticks = 1;
 644:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 645:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 646:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 647:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 905              		.loc 1 647 0
 906 0018 FFF7FEFF 		bl	inHandlerMode
 907              	.LVL69:
 908 001c B8B1     		cbz	r0, .L75
 648:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xSemaphoreTakeFromISR(mutex_id, &taskWoken) != pdTRUE) {
 909              		.loc 1 648 0
 910 001e 01AA     		add	r2, sp, #4
 911 0020 0021     		movs	r1, #0
 912 0022 2846     		mov	r0, r5
 913 0024 FFF7FEFF 		bl	xQueueReceiveFromISR
 914              	.LVL70:
 915 0028 0128     		cmp	r0, #1
 916 002a 04D0     		beq	.L82
 649:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 917              		.loc 1 649 0
 918 002c FF20     		movs	r0, #255
 919 002e 15E0     		b	.L72
 920              	.LVL71:
 921              	.L77:
 638:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 922              		.loc 1 638 0
 923 0030 4FF0FF34 		mov	r4, #-1
 924 0034 F0E7     		b	.L74
 925              	.LVL72:
 926              	.L82:
 650:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
ARM GAS  /tmp/ccr5mNtL.s 			page 32


 651:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	portEND_SWITCHING_ISR(taskWoken);
 927              		.loc 1 651 0
 928 0036 019B     		ldr	r3, [sp, #4]
 929 0038 A3B1     		cbz	r3, .L79
 930              		.loc 1 651 0 is_stmt 0 discriminator 1
 931 003a 4FF08052 		mov	r2, #268435456
 932 003e 0B4B     		ldr	r3, .L83
 933 0040 1A60     		str	r2, [r3]
 934              		.syntax unified
 935              	@ 651 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 936 0042 BFF34F8F 		dsb
 937              	@ 0 "" 2
 938              	@ 651 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 939 0046 BFF36F8F 		isb
 940              	@ 0 "" 2
 652:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   } 
 653:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (xSemaphoreTake(mutex_id, ticks) != pdTRUE) {
 654:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorOS;
 655:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 656:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 657:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 941              		.loc 1 657 0 is_stmt 1 discriminator 1
 942              		.thumb
 943              		.syntax unified
 944 004a 0020     		movs	r0, #0
 945 004c 06E0     		b	.L72
 946              	.L75:
 653:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorOS;
 947              		.loc 1 653 0
 948 004e 2146     		mov	r1, r4
 949 0050 2846     		mov	r0, r5
 950 0052 FFF7FEFF 		bl	xQueueSemaphoreTake
 951              	.LVL73:
 952 0056 0128     		cmp	r0, #1
 953 0058 06D0     		beq	.L80
 654:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 954              		.loc 1 654 0
 955 005a FF20     		movs	r0, #255
 956              	.LVL74:
 957              	.L72:
 658:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 958              		.loc 1 658 0
 959 005c 03B0     		add	sp, sp, #12
 960              	.LCFI23:
 961              		.cfi_remember_state
 962              		.cfi_def_cfa_offset 12
 963              		@ sp needed
 964 005e 30BD     		pop	{r4, r5, pc}
 965              	.LVL75:
 966              	.L76:
 967              	.LCFI24:
 968              		.cfi_restore_state
 633:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 969              		.loc 1 633 0
 970 0060 8020     		movs	r0, #128
 971              	.LVL76:
 972 0062 FBE7     		b	.L72
ARM GAS  /tmp/ccr5mNtL.s 			page 33


 973              	.LVL77:
 974              	.L79:
 657:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 975              		.loc 1 657 0
 976 0064 0020     		movs	r0, #0
 977 0066 F9E7     		b	.L72
 978              	.L80:
 979 0068 0020     		movs	r0, #0
 980 006a F7E7     		b	.L72
 981              	.L84:
 982              		.align	2
 983              	.L83:
 984 006c 04ED00E0 		.word	-536810236
 985              		.cfi_endproc
 986              	.LFE69:
 988              		.section	.text.osMutexRelease,"ax",%progbits
 989              		.align	1
 990              		.global	osMutexRelease
 991              		.syntax unified
 992              		.thumb
 993              		.thumb_func
 994              		.fpu softvfp
 996              	osMutexRelease:
 997              	.LFB70:
 659:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 660:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 661:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Release a Mutex that was obtained by \ref osMutexWait
 662:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param mutex_id      mutex ID obtained by \ref osMutexCreate.
 663:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 664:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMutexRelease shall be consistent in every CMSIS-RTOS.
 665:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 666:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osMutexRelease (osMutexId mutex_id)
 667:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 998              		.loc 1 667 0
 999              		.cfi_startproc
 1000              		@ args = 0, pretend = 0, frame = 8
 1001              		@ frame_needed = 0, uses_anonymous_args = 0
 1002              	.LVL78:
 1003 0000 10B5     		push	{r4, lr}
 1004              	.LCFI25:
 1005              		.cfi_def_cfa_offset 8
 1006              		.cfi_offset 4, -8
 1007              		.cfi_offset 14, -4
 1008 0002 82B0     		sub	sp, sp, #8
 1009              	.LCFI26:
 1010              		.cfi_def_cfa_offset 16
 1011 0004 0446     		mov	r4, r0
 1012              	.LVL79:
 668:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osStatus result = osOK;
 669:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;
 1013              		.loc 1 669 0
 1014 0006 0023     		movs	r3, #0
 1015 0008 0193     		str	r3, [sp, #4]
 670:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 671:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 1016              		.loc 1 671 0
 1017 000a FFF7FEFF 		bl	inHandlerMode
ARM GAS  /tmp/ccr5mNtL.s 			page 34


 1018              	.LVL80:
 1019 000e A0B1     		cbz	r0, .L86
 672:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xSemaphoreGiveFromISR(mutex_id, &taskWoken) != pdTRUE) {
 1020              		.loc 1 672 0
 1021 0010 01A9     		add	r1, sp, #4
 1022 0012 2046     		mov	r0, r4
 1023 0014 FFF7FEFF 		bl	xQueueGiveFromISR
 1024              	.LVL81:
 1025 0018 0128     		cmp	r0, #1
 1026 001a 02D0     		beq	.L92
 673:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 1027              		.loc 1 673 0
 1028 001c FF20     		movs	r0, #255
 1029              	.L85:
 674:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 675:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portEND_SWITCHING_ISR(taskWoken);
 676:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 677:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (xSemaphoreGive(mutex_id) != pdTRUE) 
 678:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 679:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osErrorOS;
 680:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 681:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return result;
 682:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1030              		.loc 1 682 0
 1031 001e 02B0     		add	sp, sp, #8
 1032              	.LCFI27:
 1033              		.cfi_remember_state
 1034              		.cfi_def_cfa_offset 8
 1035              		@ sp needed
 1036 0020 10BD     		pop	{r4, pc}
 1037              	.LVL82:
 1038              	.L92:
 1039              	.LCFI28:
 1040              		.cfi_restore_state
 675:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 1041              		.loc 1 675 0
 1042 0022 019B     		ldr	r3, [sp, #4]
 1043 0024 ABB1     		cbz	r3, .L89
 675:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 1044              		.loc 1 675 0 is_stmt 0 discriminator 1
 1045 0026 4FF08052 		mov	r2, #268435456
 1046 002a 0B4B     		ldr	r3, .L94
 1047 002c 1A60     		str	r2, [r3]
 1048              		.syntax unified
 1049              	@ 675 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1050 002e BFF34F8F 		dsb
 1051              	@ 0 "" 2
 1052              	@ 675 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1053 0032 BFF36F8F 		isb
 1054              	@ 0 "" 2
 668:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;
 1055              		.loc 1 668 0 is_stmt 1 discriminator 1
 1056              		.thumb
 1057              		.syntax unified
 1058 0036 0020     		movs	r0, #0
 1059 0038 F1E7     		b	.L85
 1060              	.L86:
ARM GAS  /tmp/ccr5mNtL.s 			page 35


 677:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 1061              		.loc 1 677 0
 1062 003a 0023     		movs	r3, #0
 1063 003c 1A46     		mov	r2, r3
 1064 003e 1946     		mov	r1, r3
 1065 0040 2046     		mov	r0, r4
 1066 0042 FFF7FEFF 		bl	xQueueGenericSend
 1067              	.LVL83:
 1068 0046 0128     		cmp	r0, #1
 1069 0048 01D0     		beq	.L93
 679:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 1070              		.loc 1 679 0
 1071 004a FF20     		movs	r0, #255
 1072 004c E7E7     		b	.L85
 1073              	.L93:
 668:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;
 1074              		.loc 1 668 0
 1075 004e 0020     		movs	r0, #0
 1076 0050 E5E7     		b	.L85
 1077              	.L89:
 1078 0052 0020     		movs	r0, #0
 1079 0054 E3E7     		b	.L85
 1080              	.L95:
 1081 0056 00BF     		.align	2
 1082              	.L94:
 1083 0058 04ED00E0 		.word	-536810236
 1084              		.cfi_endproc
 1085              	.LFE70:
 1087              		.section	.text.osMutexDelete,"ax",%progbits
 1088              		.align	1
 1089              		.global	osMutexDelete
 1090              		.syntax unified
 1091              		.thumb
 1092              		.thumb_func
 1093              		.fpu softvfp
 1095              	osMutexDelete:
 1096              	.LFB71:
 683:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 684:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 685:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Delete a Mutex
 686:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param mutex_id  mutex ID obtained by \ref osMutexCreate.
 687:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 688:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMutexDelete shall be consistent in every CMSIS-RTOS.
 689:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 690:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osMutexDelete (osMutexId mutex_id)
 691:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1097              		.loc 1 691 0
 1098              		.cfi_startproc
 1099              		@ args = 0, pretend = 0, frame = 0
 1100              		@ frame_needed = 0, uses_anonymous_args = 0
 1101              	.LVL84:
 1102 0000 10B5     		push	{r4, lr}
 1103              	.LCFI29:
 1104              		.cfi_def_cfa_offset 8
 1105              		.cfi_offset 4, -8
 1106              		.cfi_offset 14, -4
 1107 0002 0446     		mov	r4, r0
ARM GAS  /tmp/ccr5mNtL.s 			page 36


 692:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 1108              		.loc 1 692 0
 1109 0004 FFF7FEFF 		bl	inHandlerMode
 1110              	.LVL85:
 1111 0008 08B1     		cbz	r0, .L100
 693:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorISR;
 1112              		.loc 1 693 0
 1113 000a 8220     		movs	r0, #130
 694:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 695:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 696:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vQueueDelete(mutex_id);
 697:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 698:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 699:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1114              		.loc 1 699 0
 1115 000c 10BD     		pop	{r4, pc}
 1116              	.LVL86:
 1117              	.L100:
 696:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 1118              		.loc 1 696 0
 1119 000e 2046     		mov	r0, r4
 1120 0010 FFF7FEFF 		bl	vQueueDelete
 1121              	.LVL87:
 698:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1122              		.loc 1 698 0
 1123 0014 0020     		movs	r0, #0
 1124 0016 10BD     		pop	{r4, pc}
 1125              		.cfi_endproc
 1126              	.LFE71:
 1128              		.section	.text.osSemaphoreCreate,"ax",%progbits
 1129              		.align	1
 1130              		.global	osSemaphoreCreate
 1131              		.syntax unified
 1132              		.thumb
 1133              		.thumb_func
 1134              		.fpu softvfp
 1136              	osSemaphoreCreate:
 1137              	.LFB72:
 700:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 701:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /********************  Semaphore Management Functions **************************/
 702:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 703:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (defined (osFeature_Semaphore)  &&  (osFeature_Semaphore != 0))
 704:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 705:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 706:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Create and Initialize a Semaphore object used for managing resources
 707:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param semaphore_def semaphore definition referenced with \ref osSemaphore.
 708:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param count         number of available resources.
 709:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  semaphore ID for reference by other functions or NULL in case of error.
 710:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osSemaphoreCreate shall be consistent in every CMSIS-RTOS.
 711:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 712:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osSemaphoreId osSemaphoreCreate (const osSemaphoreDef_t *semaphore_def, int32_t count)
 713:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** { 
 1138              		.loc 1 713 0
 1139              		.cfi_startproc
 1140              		@ args = 0, pretend = 0, frame = 0
 1141              		@ frame_needed = 0, uses_anonymous_args = 0
 1142              	.LVL88:
ARM GAS  /tmp/ccr5mNtL.s 			page 37


 1143 0000 10B5     		push	{r4, lr}
 1144              	.LCFI30:
 1145              		.cfi_def_cfa_offset 8
 1146              		.cfi_offset 4, -8
 1147              		.cfi_offset 14, -4
 1148 0002 82B0     		sub	sp, sp, #8
 1149              	.LCFI31:
 1150              		.cfi_def_cfa_offset 16
 714:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( configSUPPORT_STATIC_ALLOCATION == 1 ) && ( configSUPPORT_DYNAMIC_ALLOCATION == 1 )
 715:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 716:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osSemaphoreId sema;
 717:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 718:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (semaphore_def->controlblock != NULL){
 1151              		.loc 1 718 0
 1152 0004 4368     		ldr	r3, [r0, #4]
 1153 0006 63B1     		cbz	r3, .L102
 719:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (count == 1) {
 1154              		.loc 1 719 0
 1155 0008 0129     		cmp	r1, #1
 1156 000a 1AD1     		bne	.L104
 720:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return xSemaphoreCreateBinaryStatic( semaphore_def->controlblock );
 1157              		.loc 1 720 0
 1158 000c 0322     		movs	r2, #3
 1159 000e 0092     		str	r2, [sp]
 1160 0010 0022     		movs	r2, #0
 1161 0012 1146     		mov	r1, r2
 1162              	.LVL89:
 1163 0014 0120     		movs	r0, #1
 1164              	.LVL90:
 1165 0016 FFF7FEFF 		bl	xQueueGenericCreateStatic
 1166              	.LVL91:
 1167 001a 0446     		mov	r4, r0
 1168              	.L101:
 721:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 722:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else {
 723:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_COUNTING_SEMAPHORES == 1 )
 724:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return xSemaphoreCreateCountingStatic( count, count, semaphore_def->controlblock );
 725:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 726:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return NULL;
 727:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 728:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 729:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 730:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 731:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (count == 1) {
 732:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       vSemaphoreCreateBinary(sema);
 733:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return sema;
 734:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 735:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else {
 736:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_COUNTING_SEMAPHORES == 1 )	
 737:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return xSemaphoreCreateCounting(count, count);
 738:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 739:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return NULL;
 740:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif    
 741:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 742:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 743:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif ( configSUPPORT_STATIC_ALLOCATION == 1 ) // configSUPPORT_DYNAMIC_ALLOCATION == 0
 744:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if(count == 1) {
ARM GAS  /tmp/ccr5mNtL.s 			page 38


 745:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xSemaphoreCreateBinaryStatic( semaphore_def->controlblock );
 746:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 747:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
 748:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 749:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_COUNTING_SEMAPHORES == 1 )
 750:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return xSemaphoreCreateCountingStatic( count, count, semaphore_def->controlblock );
 751:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 752:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return NULL;
 753:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif    
 754:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 755:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else  // configSUPPORT_STATIC_ALLOCATION == 0  && configSUPPORT_DYNAMIC_ALLOCATION == 1
 756:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osSemaphoreId sema;
 757:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  
 758:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (count == 1) {
 759:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     vSemaphoreCreateBinary(sema);
 760:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return sema;
 761:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 762:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 763:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_COUNTING_SEMAPHORES == 1 )	
 764:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xSemaphoreCreateCounting(count, count);
 765:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 766:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return NULL;
 767:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 768:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 769:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 770:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1169              		.loc 1 770 0
 1170 001c 2046     		mov	r0, r4
 1171 001e 02B0     		add	sp, sp, #8
 1172              	.LCFI32:
 1173              		.cfi_remember_state
 1174              		.cfi_def_cfa_offset 8
 1175              		@ sp needed
 1176 0020 10BD     		pop	{r4, pc}
 1177              	.LVL92:
 1178              	.L102:
 1179              	.LCFI33:
 1180              		.cfi_restore_state
 731:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       vSemaphoreCreateBinary(sema);
 1181              		.loc 1 731 0
 1182 0022 0129     		cmp	r1, #1
 1183 0024 0FD1     		bne	.L105
 732:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return sema;
 1184              		.loc 1 732 0
 1185 0026 0322     		movs	r2, #3
 1186 0028 0021     		movs	r1, #0
 1187              	.LVL93:
 1188 002a 0120     		movs	r0, #1
 1189              	.LVL94:
 1190 002c FFF7FEFF 		bl	xQueueGenericCreate
 1191              	.LVL95:
 1192 0030 0446     		mov	r4, r0
 1193 0032 0028     		cmp	r0, #0
 1194 0034 F2D0     		beq	.L101
 732:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return sema;
 1195              		.loc 1 732 0 is_stmt 0 discriminator 1
 1196 0036 0023     		movs	r3, #0
ARM GAS  /tmp/ccr5mNtL.s 			page 39


 1197 0038 1A46     		mov	r2, r3
 1198 003a 1946     		mov	r1, r3
 1199 003c FFF7FEFF 		bl	xQueueGenericSend
 1200              	.LVL96:
 1201 0040 ECE7     		b	.L101
 1202              	.LVL97:
 1203              	.L104:
 726:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 1204              		.loc 1 726 0 is_stmt 1
 1205 0042 0024     		movs	r4, #0
 1206 0044 EAE7     		b	.L101
 1207              	.L105:
 739:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif    
 1208              		.loc 1 739 0
 1209 0046 0024     		movs	r4, #0
 1210 0048 E8E7     		b	.L101
 1211              		.cfi_endproc
 1212              	.LFE72:
 1214              		.section	.text.osSemaphoreWait,"ax",%progbits
 1215              		.align	1
 1216              		.global	osSemaphoreWait
 1217              		.syntax unified
 1218              		.thumb
 1219              		.thumb_func
 1220              		.fpu softvfp
 1222              	osSemaphoreWait:
 1223              	.LFB73:
 771:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 772:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 773:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Wait until a Semaphore token becomes available
 774:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  semaphore_id  semaphore object referenced with \ref osSemaphore.
 775:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec      timeout value or 0 in case of no time-out.
 776:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  number of available tokens, or -1 in case of incorrect parameters.
 777:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osSemaphoreWait shall be consistent in every CMSIS-RTOS.
 778:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 779:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** int32_t osSemaphoreWait (osSemaphoreId semaphore_id, uint32_t millisec)
 780:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1224              		.loc 1 780 0
 1225              		.cfi_startproc
 1226              		@ args = 0, pretend = 0, frame = 8
 1227              		@ frame_needed = 0, uses_anonymous_args = 0
 1228              	.LVL98:
 1229 0000 30B5     		push	{r4, r5, lr}
 1230              	.LCFI34:
 1231              		.cfi_def_cfa_offset 12
 1232              		.cfi_offset 4, -12
 1233              		.cfi_offset 5, -8
 1234              		.cfi_offset 14, -4
 1235 0002 83B0     		sub	sp, sp, #12
 1236              	.LCFI35:
 1237              		.cfi_def_cfa_offset 24
 781:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
 782:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;  
 1238              		.loc 1 782 0
 1239 0004 0023     		movs	r3, #0
 1240 0006 0193     		str	r3, [sp, #4]
 783:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
ARM GAS  /tmp/ccr5mNtL.s 			page 40


 784:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 785:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (semaphore_id == NULL) {
 1241              		.loc 1 785 0
 1242 0008 50B3     		cbz	r0, .L111
 1243 000a 0C46     		mov	r4, r1
 1244 000c 0546     		mov	r5, r0
 1245              	.LVL99:
 786:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
 787:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 788:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 789:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = 0;
 790:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) {
 1246              		.loc 1 790 0
 1247 000e B1F1FF3F 		cmp	r1, #-1
 1248 0012 0DD0     		beq	.L112
 791:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = portMAX_DELAY;
 792:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 793:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (millisec != 0) {
 1249              		.loc 1 793 0
 1250 0014 01B9     		cbnz	r1, .L109
 789:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) {
 1251              		.loc 1 789 0
 1252 0016 1C46     		mov	r4, r3
 1253              	.L109:
 1254              	.LVL100:
 794:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = millisec / portTICK_PERIOD_MS;
 795:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (ticks == 0) {
 796:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ticks = 1;
 797:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 798:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 799:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 800:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 1255              		.loc 1 800 0
 1256 0018 FFF7FEFF 		bl	inHandlerMode
 1257              	.LVL101:
 1258 001c B8B1     		cbz	r0, .L110
 801:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xSemaphoreTakeFromISR(semaphore_id, &taskWoken) != pdTRUE) {
 1259              		.loc 1 801 0
 1260 001e 01AA     		add	r2, sp, #4
 1261 0020 0021     		movs	r1, #0
 1262 0022 2846     		mov	r0, r5
 1263 0024 FFF7FEFF 		bl	xQueueReceiveFromISR
 1264              	.LVL102:
 1265 0028 0128     		cmp	r0, #1
 1266 002a 04D0     		beq	.L117
 802:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 1267              		.loc 1 802 0
 1268 002c FF20     		movs	r0, #255
 1269 002e 15E0     		b	.L107
 1270              	.LVL103:
 1271              	.L112:
 791:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 1272              		.loc 1 791 0
 1273 0030 4FF0FF34 		mov	r4, #-1
 1274 0034 F0E7     		b	.L109
 1275              	.LVL104:
 1276              	.L117:
ARM GAS  /tmp/ccr5mNtL.s 			page 41


 803:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 804:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	portEND_SWITCHING_ISR(taskWoken);
 1277              		.loc 1 804 0
 1278 0036 019B     		ldr	r3, [sp, #4]
 1279 0038 A3B1     		cbz	r3, .L114
 1280              		.loc 1 804 0 is_stmt 0 discriminator 1
 1281 003a 4FF08052 		mov	r2, #268435456
 1282 003e 0B4B     		ldr	r3, .L118
 1283 0040 1A60     		str	r2, [r3]
 1284              		.syntax unified
 1285              	@ 804 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1286 0042 BFF34F8F 		dsb
 1287              	@ 0 "" 2
 1288              	@ 804 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1289 0046 BFF36F8F 		isb
 1290              	@ 0 "" 2
 805:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }  
 806:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (xSemaphoreTake(semaphore_id, ticks) != pdTRUE) {
 807:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorOS;
 808:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 809:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 810:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 1291              		.loc 1 810 0 is_stmt 1 discriminator 1
 1292              		.thumb
 1293              		.syntax unified
 1294 004a 0020     		movs	r0, #0
 1295 004c 06E0     		b	.L107
 1296              	.L110:
 806:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorOS;
 1297              		.loc 1 806 0
 1298 004e 2146     		mov	r1, r4
 1299 0050 2846     		mov	r0, r5
 1300 0052 FFF7FEFF 		bl	xQueueSemaphoreTake
 1301              	.LVL105:
 1302 0056 0128     		cmp	r0, #1
 1303 0058 06D0     		beq	.L115
 807:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 1304              		.loc 1 807 0
 1305 005a FF20     		movs	r0, #255
 1306              	.LVL106:
 1307              	.L107:
 811:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1308              		.loc 1 811 0
 1309 005c 03B0     		add	sp, sp, #12
 1310              	.LCFI36:
 1311              		.cfi_remember_state
 1312              		.cfi_def_cfa_offset 12
 1313              		@ sp needed
 1314 005e 30BD     		pop	{r4, r5, pc}
 1315              	.LVL107:
 1316              	.L111:
 1317              	.LCFI37:
 1318              		.cfi_restore_state
 786:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 1319              		.loc 1 786 0
 1320 0060 8020     		movs	r0, #128
 1321              	.LVL108:
ARM GAS  /tmp/ccr5mNtL.s 			page 42


 1322 0062 FBE7     		b	.L107
 1323              	.LVL109:
 1324              	.L114:
 810:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1325              		.loc 1 810 0
 1326 0064 0020     		movs	r0, #0
 1327 0066 F9E7     		b	.L107
 1328              	.L115:
 1329 0068 0020     		movs	r0, #0
 1330 006a F7E7     		b	.L107
 1331              	.L119:
 1332              		.align	2
 1333              	.L118:
 1334 006c 04ED00E0 		.word	-536810236
 1335              		.cfi_endproc
 1336              	.LFE73:
 1338              		.section	.text.osSemaphoreRelease,"ax",%progbits
 1339              		.align	1
 1340              		.global	osSemaphoreRelease
 1341              		.syntax unified
 1342              		.thumb
 1343              		.thumb_func
 1344              		.fpu softvfp
 1346              	osSemaphoreRelease:
 1347              	.LFB74:
 812:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 813:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 814:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Release a Semaphore token
 815:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  semaphore_id  semaphore object referenced with \ref osSemaphore.
 816:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 817:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osSemaphoreRelease shall be consistent in every CMSIS-RTOS.
 818:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 819:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osSemaphoreRelease (osSemaphoreId semaphore_id)
 820:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1348              		.loc 1 820 0
 1349              		.cfi_startproc
 1350              		@ args = 0, pretend = 0, frame = 8
 1351              		@ frame_needed = 0, uses_anonymous_args = 0
 1352              	.LVL110:
 1353 0000 10B5     		push	{r4, lr}
 1354              	.LCFI38:
 1355              		.cfi_def_cfa_offset 8
 1356              		.cfi_offset 4, -8
 1357              		.cfi_offset 14, -4
 1358 0002 82B0     		sub	sp, sp, #8
 1359              	.LCFI39:
 1360              		.cfi_def_cfa_offset 16
 1361 0004 0446     		mov	r4, r0
 1362              	.LVL111:
 821:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osStatus result = osOK;
 822:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;
 1363              		.loc 1 822 0
 1364 0006 0023     		movs	r3, #0
 1365 0008 0193     		str	r3, [sp, #4]
 823:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 824:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 825:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
ARM GAS  /tmp/ccr5mNtL.s 			page 43


 1366              		.loc 1 825 0
 1367 000a FFF7FEFF 		bl	inHandlerMode
 1368              	.LVL112:
 1369 000e A0B1     		cbz	r0, .L121
 826:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xSemaphoreGiveFromISR(semaphore_id, &taskWoken) != pdTRUE) {
 1370              		.loc 1 826 0
 1371 0010 01A9     		add	r1, sp, #4
 1372 0012 2046     		mov	r0, r4
 1373 0014 FFF7FEFF 		bl	xQueueGiveFromISR
 1374              	.LVL113:
 1375 0018 0128     		cmp	r0, #1
 1376 001a 02D0     		beq	.L127
 827:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 1377              		.loc 1 827 0
 1378 001c FF20     		movs	r0, #255
 1379              	.L120:
 828:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 829:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portEND_SWITCHING_ISR(taskWoken);
 830:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 831:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 832:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xSemaphoreGive(semaphore_id) != pdTRUE) {
 833:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       result = osErrorOS;
 834:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 835:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 836:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 837:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return result;
 838:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1380              		.loc 1 838 0
 1381 001e 02B0     		add	sp, sp, #8
 1382              	.LCFI40:
 1383              		.cfi_remember_state
 1384              		.cfi_def_cfa_offset 8
 1385              		@ sp needed
 1386 0020 10BD     		pop	{r4, pc}
 1387              	.LVL114:
 1388              	.L127:
 1389              	.LCFI41:
 1390              		.cfi_restore_state
 829:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 1391              		.loc 1 829 0
 1392 0022 019B     		ldr	r3, [sp, #4]
 1393 0024 ABB1     		cbz	r3, .L124
 829:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 1394              		.loc 1 829 0 is_stmt 0 discriminator 1
 1395 0026 4FF08052 		mov	r2, #268435456
 1396 002a 0B4B     		ldr	r3, .L129
 1397 002c 1A60     		str	r2, [r3]
 1398              		.syntax unified
 1399              	@ 829 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1400 002e BFF34F8F 		dsb
 1401              	@ 0 "" 2
 1402              	@ 829 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1403 0032 BFF36F8F 		isb
 1404              	@ 0 "" 2
 821:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;
 1405              		.loc 1 821 0 is_stmt 1 discriminator 1
 1406              		.thumb
ARM GAS  /tmp/ccr5mNtL.s 			page 44


 1407              		.syntax unified
 1408 0036 0020     		movs	r0, #0
 1409 0038 F1E7     		b	.L120
 1410              	.L121:
 832:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       result = osErrorOS;
 1411              		.loc 1 832 0
 1412 003a 0023     		movs	r3, #0
 1413 003c 1A46     		mov	r2, r3
 1414 003e 1946     		mov	r1, r3
 1415 0040 2046     		mov	r0, r4
 1416 0042 FFF7FEFF 		bl	xQueueGenericSend
 1417              	.LVL115:
 1418 0046 0128     		cmp	r0, #1
 1419 0048 01D0     		beq	.L128
 833:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 1420              		.loc 1 833 0
 1421 004a FF20     		movs	r0, #255
 1422 004c E7E7     		b	.L120
 1423              	.L128:
 821:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;
 1424              		.loc 1 821 0
 1425 004e 0020     		movs	r0, #0
 1426 0050 E5E7     		b	.L120
 1427              	.L124:
 1428 0052 0020     		movs	r0, #0
 1429 0054 E3E7     		b	.L120
 1430              	.L130:
 1431 0056 00BF     		.align	2
 1432              	.L129:
 1433 0058 04ED00E0 		.word	-536810236
 1434              		.cfi_endproc
 1435              	.LFE74:
 1437              		.section	.text.osSemaphoreDelete,"ax",%progbits
 1438              		.align	1
 1439              		.global	osSemaphoreDelete
 1440              		.syntax unified
 1441              		.thumb
 1442              		.thumb_func
 1443              		.fpu softvfp
 1445              	osSemaphoreDelete:
 1446              	.LFB75:
 839:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 840:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 841:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Delete a Semaphore
 842:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  semaphore_id  semaphore object referenced with \ref osSemaphore.
 843:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 844:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osSemaphoreDelete shall be consistent in every CMSIS-RTOS.
 845:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 846:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osSemaphoreDelete (osSemaphoreId semaphore_id)
 847:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1447              		.loc 1 847 0
 1448              		.cfi_startproc
 1449              		@ args = 0, pretend = 0, frame = 0
 1450              		@ frame_needed = 0, uses_anonymous_args = 0
 1451              	.LVL116:
 1452 0000 10B5     		push	{r4, lr}
 1453              	.LCFI42:
ARM GAS  /tmp/ccr5mNtL.s 			page 45


 1454              		.cfi_def_cfa_offset 8
 1455              		.cfi_offset 4, -8
 1456              		.cfi_offset 14, -4
 1457 0002 0446     		mov	r4, r0
 848:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 1458              		.loc 1 848 0
 1459 0004 FFF7FEFF 		bl	inHandlerMode
 1460              	.LVL117:
 1461 0008 08B1     		cbz	r0, .L135
 849:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorISR;
 1462              		.loc 1 849 0
 1463 000a 8220     		movs	r0, #130
 850:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 851:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 852:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vSemaphoreDelete(semaphore_id);
 853:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 854:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK; 
 855:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1464              		.loc 1 855 0
 1465 000c 10BD     		pop	{r4, pc}
 1466              	.LVL118:
 1467              	.L135:
 852:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 1468              		.loc 1 852 0
 1469 000e 2046     		mov	r0, r4
 1470 0010 FFF7FEFF 		bl	vQueueDelete
 1471              	.LVL119:
 854:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1472              		.loc 1 854 0
 1473 0014 0020     		movs	r0, #0
 1474 0016 10BD     		pop	{r4, pc}
 1475              		.cfi_endproc
 1476              	.LFE75:
 1478              		.section	.text.osPoolCreate,"ax",%progbits
 1479              		.align	1
 1480              		.global	osPoolCreate
 1481              		.syntax unified
 1482              		.thumb
 1483              		.thumb_func
 1484              		.fpu softvfp
 1486              	osPoolCreate:
 1487              	.LFB76:
 856:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 857:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif    /* Use Semaphores */
 858:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 859:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*******************   Memory Pool Management Functions  ***********************/
 860:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 861:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (defined (osFeature_Pool)  &&  (osFeature_Pool != 0)) 
 862:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 863:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** //TODO
 864:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** //This is a primitive and inefficient wrapper around the existing FreeRTOS memory management.
 865:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** //A better implementation will have to modify heap_x.c!
 866:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 867:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 868:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** typedef struct os_pool_cb {
 869:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   void *pool;
 870:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint8_t *markers;
ARM GAS  /tmp/ccr5mNtL.s 			page 46


 871:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t pool_sz;
 872:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t item_sz;
 873:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t currentIndex;
 874:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** } os_pool_cb_t;
 875:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 876:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 877:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 878:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Create and Initialize a memory pool
 879:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  pool_def      memory pool definition referenced with \ref osPool.
 880:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  memory pool ID for reference by other functions or NULL in case of error.
 881:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osPoolCreate shall be consistent in every CMSIS-RTOS.
 882:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 883:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osPoolId osPoolCreate (const osPoolDef_t *pool_def)
 884:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1488              		.loc 1 884 0
 1489              		.cfi_startproc
 1490              		@ args = 0, pretend = 0, frame = 0
 1491              		@ frame_needed = 0, uses_anonymous_args = 0
 1492              	.LVL120:
 1493 0000 70B5     		push	{r4, r5, r6, lr}
 1494              	.LCFI43:
 1495              		.cfi_def_cfa_offset 16
 1496              		.cfi_offset 4, -16
 1497              		.cfi_offset 5, -12
 1498              		.cfi_offset 6, -8
 1499              		.cfi_offset 14, -4
 1500 0002 0546     		mov	r5, r0
 885:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configSUPPORT_DYNAMIC_ALLOCATION == 1)
 886:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osPoolId thePool;
 887:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   int itemSize = 4 * ((pool_def->item_sz + 3) / 4);
 1501              		.loc 1 887 0
 1502 0004 4668     		ldr	r6, [r0, #4]
 1503              	.LVL121:
 888:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t i;
 889:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 890:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   /* First have to allocate memory for the pool control block. */
 891:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  thePool = pvPortMalloc(sizeof(os_pool_cb_t));
 1504              		.loc 1 891 0
 1505 0006 1420     		movs	r0, #20
 1506              	.LVL122:
 1507 0008 FFF7FEFF 		bl	pvPortMalloc
 1508              	.LVL123:
 892:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 893:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 894:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (thePool) {
 1509              		.loc 1 894 0
 1510 000c 0446     		mov	r4, r0
 1511 000e E0B1     		cbz	r0, .L136
 1512 0010 0336     		adds	r6, r6, #3
 1513              	.LVL124:
 1514 0012 26F00306 		bic	r6, r6, #3
 1515              	.LVL125:
 895:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     thePool->pool_sz = pool_def->pool_sz;
 1516              		.loc 1 895 0
 1517 0016 2B68     		ldr	r3, [r5]
 1518 0018 8360     		str	r3, [r0, #8]
 896:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     thePool->item_sz = itemSize;
ARM GAS  /tmp/ccr5mNtL.s 			page 47


 1519              		.loc 1 896 0
 1520 001a C660     		str	r6, [r0, #12]
 897:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     thePool->currentIndex = 0;
 1521              		.loc 1 897 0
 1522 001c 0023     		movs	r3, #0
 1523 001e 0361     		str	r3, [r0, #16]
 898:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     
 899:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     /* Memory for markers */
 900:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     thePool->markers = pvPortMalloc(pool_def->pool_sz);
 1524              		.loc 1 900 0
 1525 0020 2868     		ldr	r0, [r5]
 1526              	.LVL126:
 1527 0022 FFF7FEFF 		bl	pvPortMalloc
 1528              	.LVL127:
 1529 0026 6060     		str	r0, [r4, #4]
 901:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****    
 902:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (thePool->markers) {
 1530              		.loc 1 902 0
 1531 0028 C8B1     		cbz	r0, .L138
 903:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       /* Now allocate the pool itself. */
 904:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****      thePool->pool = pvPortMalloc(pool_def->pool_sz * itemSize);
 1532              		.loc 1 904 0
 1533 002a 2868     		ldr	r0, [r5]
 1534 002c 00FB06F0 		mul	r0, r0, r6
 1535 0030 FFF7FEFF 		bl	pvPortMalloc
 1536              	.LVL128:
 1537 0034 2060     		str	r0, [r4]
 905:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       
 906:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       if (thePool->pool) {
 1538              		.loc 1 906 0
 1539 0036 50B1     		cbz	r0, .L145
 1540 0038 0023     		movs	r3, #0
 1541 003a 03E0     		b	.L139
 1542              	.LVL129:
 1543              	.L141:
 907:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****         for (i = 0; i < pool_def->pool_sz; i++) {
 908:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****           thePool->markers[i] = 0;
 1544              		.loc 1 908 0 discriminator 3
 1545 003c 6268     		ldr	r2, [r4, #4]
 1546 003e 0021     		movs	r1, #0
 1547 0040 D154     		strb	r1, [r2, r3]
 907:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****         for (i = 0; i < pool_def->pool_sz; i++) {
 1548              		.loc 1 907 0 discriminator 3
 1549 0042 0133     		adds	r3, r3, #1
 1550              	.LVL130:
 1551              	.L139:
 907:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****         for (i = 0; i < pool_def->pool_sz; i++) {
 1552              		.loc 1 907 0 is_stmt 0 discriminator 1
 1553 0044 2A68     		ldr	r2, [r5]
 1554 0046 9342     		cmp	r3, r2
 1555 0048 F8D3     		bcc	.L141
 1556              	.LVL131:
 1557              	.L136:
 909:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****         }
 910:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       }
 911:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       else {
 912:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****         vPortFree(thePool->markers);
ARM GAS  /tmp/ccr5mNtL.s 			page 48


 913:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****         vPortFree(thePool);
 914:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****         thePool = NULL;
 915:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       }
 916:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 917:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else {
 918:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       vPortFree(thePool);
 919:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       thePool = NULL;
 920:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 921:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 922:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 923:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return thePool;
 924:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  
 925:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 926:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return NULL;
 927:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 928:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1558              		.loc 1 928 0 is_stmt 1
 1559 004a 2046     		mov	r0, r4
 1560 004c 70BD     		pop	{r4, r5, r6, pc}
 1561              	.LVL132:
 1562              	.L145:
 912:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****         vPortFree(thePool);
 1563              		.loc 1 912 0
 1564 004e 6068     		ldr	r0, [r4, #4]
 1565 0050 FFF7FEFF 		bl	vPortFree
 1566              	.LVL133:
 913:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****         thePool = NULL;
 1567              		.loc 1 913 0
 1568 0054 2046     		mov	r0, r4
 1569 0056 FFF7FEFF 		bl	vPortFree
 1570              	.LVL134:
 914:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       }
 1571              		.loc 1 914 0
 1572 005a 0024     		movs	r4, #0
 1573 005c F5E7     		b	.L136
 1574              	.LVL135:
 1575              	.L138:
 918:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       thePool = NULL;
 1576              		.loc 1 918 0
 1577 005e 2046     		mov	r0, r4
 1578 0060 FFF7FEFF 		bl	vPortFree
 1579              	.LVL136:
 919:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 1580              		.loc 1 919 0
 1581 0064 0024     		movs	r4, #0
 923:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  
 1582              		.loc 1 923 0
 1583 0066 F0E7     		b	.L136
 1584              		.cfi_endproc
 1585              	.LFE76:
 1587              		.section	.text.osPoolAlloc,"ax",%progbits
 1588              		.align	1
 1589              		.global	osPoolAlloc
 1590              		.syntax unified
 1591              		.thumb
 1592              		.thumb_func
 1593              		.fpu softvfp
ARM GAS  /tmp/ccr5mNtL.s 			page 49


 1595              	osPoolAlloc:
 1596              	.LFB77:
 929:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 930:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 931:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Allocate a memory block from a memory pool
 932:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param pool_id       memory pool ID obtain referenced with \ref osPoolCreate.
 933:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  address of the allocated memory block or NULL in case of no memory available.
 934:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osPoolAlloc shall be consistent in every CMSIS-RTOS.
 935:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 936:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** void *osPoolAlloc (osPoolId pool_id)
 937:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1597              		.loc 1 937 0
 1598              		.cfi_startproc
 1599              		@ args = 0, pretend = 0, frame = 0
 1600              		@ frame_needed = 0, uses_anonymous_args = 0
 1601              	.LVL137:
 1602 0000 70B5     		push	{r4, r5, r6, lr}
 1603              	.LCFI44:
 1604              		.cfi_def_cfa_offset 16
 1605              		.cfi_offset 4, -16
 1606              		.cfi_offset 5, -12
 1607              		.cfi_offset 6, -8
 1608              		.cfi_offset 14, -4
 1609 0002 0446     		mov	r4, r0
 1610              	.LVL138:
 938:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   int dummy = 0;
 939:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   void *p = NULL;
 940:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t i;
 941:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t index;
 942:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 943:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 1611              		.loc 1 943 0
 1612 0004 FFF7FEFF 		bl	inHandlerMode
 1613              	.LVL139:
 1614 0008 C8B1     		cbz	r0, .L147
 1615              	.LBB10:
 1616              	.LBB11:
 1617              		.file 3 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h"
   1:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** /*
   2:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  * FreeRTOS Kernel V10.0.1
   3:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  * Copyright (C) 2017 Amazon.com, Inc. or its affiliates.  All Rights Reserved.
   4:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  *
   5:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  * Permission is hereby granted, free of charge, to any person obtaining a copy of
   6:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  * this software and associated documentation files (the "Software"), to deal in
   7:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  * the Software without restriction, including without limitation the rights to
   8:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
   9:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  * the Software, and to permit persons to whom the Software is furnished to do so,
  10:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  * subject to the following conditions:
  11:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  *
  12:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  * The above copyright notice and this permission notice shall be included in all
  13:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  * copies or substantial portions of the Software.
  14:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  *
  15:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  16:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
  17:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
  18:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
  19:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
ARM GAS  /tmp/ccr5mNtL.s 			page 50


  20:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
  21:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  *
  22:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  * http://www.FreeRTOS.org
  23:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  * http://aws.amazon.com/freertos
  24:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  *
  25:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  * 1 tab == 4 spaces!
  26:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  */
  27:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
  28:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
  29:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #ifndef PORTMACRO_H
  30:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #define PORTMACRO_H
  31:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
  32:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #ifdef __cplusplus
  33:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** extern "C" {
  34:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #endif
  35:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
  36:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** /*-----------------------------------------------------------
  37:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  * Port specific definitions.
  38:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  *
  39:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  * The settings in this file configure FreeRTOS correctly for the
  40:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  * given hardware and compiler.
  41:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  *
  42:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  * These settings should not be altered.
  43:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  *-----------------------------------------------------------
  44:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h ****  */
  45:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
  46:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** /* Type definitions. */
  47:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #define portCHAR		char
  48:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #define portFLOAT		float
  49:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #define portDOUBLE		double
  50:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #define portLONG		long
  51:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #define portSHORT		short
  52:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #define portSTACK_TYPE	uint32_t
  53:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #define portBASE_TYPE	long
  54:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
  55:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** typedef portSTACK_TYPE StackType_t;
  56:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** typedef long BaseType_t;
  57:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** typedef unsigned long UBaseType_t;
  58:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
  59:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #if( configUSE_16_BIT_TICKS == 1 )
  60:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	typedef uint16_t TickType_t;
  61:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	#define portMAX_DELAY ( TickType_t ) 0xffff
  62:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #else
  63:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	typedef uint32_t TickType_t;
  64:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	#define portMAX_DELAY ( TickType_t ) 0xffffffffUL
  65:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
  66:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	/* 32-bit tick type on a 32-bit architecture, so reads of the tick count do
  67:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	not need to be guarded with a critical section. */
  68:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	#define portTICK_TYPE_IS_ATOMIC 1
  69:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #endif
  70:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** /*-----------------------------------------------------------*/
  71:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
  72:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** /* Architecture specifics. */
  73:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #define portSTACK_GROWTH			( -1 )
  74:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #define portTICK_PERIOD_MS			( ( TickType_t ) 1000 / configTICK_RATE_HZ )
  75:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #define portBYTE_ALIGNMENT			8
  76:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** /*-----------------------------------------------------------*/
ARM GAS  /tmp/ccr5mNtL.s 			page 51


  77:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
  78:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** /* Scheduler utilities. */
  79:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #define portYIELD() 															\
  80:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** {																				\
  81:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	/* Set a PendSV to request a context switch. */								\
  82:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	portNVIC_INT_CTRL_REG = portNVIC_PENDSVSET_BIT;								\
  83:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 																				\
  84:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	/* Barriers are normally not required but do ensure the code is completely	\
  85:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	within the specified behaviour for the architecture. */						\
  86:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	__asm volatile( "dsb" ::: "memory" );										\
  87:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	__asm volatile( "isb" );													\
  88:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** }
  89:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
  90:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #define portNVIC_INT_CTRL_REG		( * ( ( volatile uint32_t * ) 0xe000ed04 ) )
  91:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #define portNVIC_PENDSVSET_BIT		( 1UL << 28UL )
  92:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #define portEND_SWITCHING_ISR( xSwitchRequired ) if( xSwitchRequired != pdFALSE ) portYIELD()
  93:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #define portYIELD_FROM_ISR( x ) portEND_SWITCHING_ISR( x )
  94:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** /*-----------------------------------------------------------*/
  95:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
  96:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** /* Critical section management. */
  97:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** extern void vPortEnterCritical( void );
  98:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** extern void vPortExitCritical( void );
  99:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #define portSET_INTERRUPT_MASK_FROM_ISR()		ulPortRaiseBASEPRI()
 100:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #define portCLEAR_INTERRUPT_MASK_FROM_ISR(x)	vPortSetBASEPRI(x)
 101:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #define portDISABLE_INTERRUPTS()				vPortRaiseBASEPRI()
 102:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #define portENABLE_INTERRUPTS()					vPortSetBASEPRI(0)
 103:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #define portENTER_CRITICAL()					vPortEnterCritical()
 104:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #define portEXIT_CRITICAL()						vPortExitCritical()
 105:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
 106:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** /*-----------------------------------------------------------*/
 107:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
 108:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** /* Task function macros as described on the FreeRTOS.org WEB site.  These are
 109:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** not necessary for to use this port.  They are defined so the common demo files
 110:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** (which build with all the ports) will build. */
 111:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #define portTASK_FUNCTION_PROTO( vFunction, pvParameters ) void vFunction( void *pvParameters )
 112:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #define portTASK_FUNCTION( vFunction, pvParameters ) void vFunction( void *pvParameters )
 113:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** /*-----------------------------------------------------------*/
 114:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
 115:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** /* Tickless idle/low power functionality. */
 116:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #ifndef portSUPPRESS_TICKS_AND_SLEEP
 117:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	extern void vPortSuppressTicksAndSleep( TickType_t xExpectedIdleTime );
 118:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	#define portSUPPRESS_TICKS_AND_SLEEP( xExpectedIdleTime ) vPortSuppressTicksAndSleep( xExpectedIdl
 119:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #endif
 120:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** /*-----------------------------------------------------------*/
 121:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
 122:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** /* Architecture specific optimisations. */
 123:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #ifndef configUSE_PORT_OPTIMISED_TASK_SELECTION
 124:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	#define configUSE_PORT_OPTIMISED_TASK_SELECTION 1
 125:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #endif
 126:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
 127:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #if configUSE_PORT_OPTIMISED_TASK_SELECTION == 1
 128:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
 129:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	/* Generic helper function. */
 130:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	__attribute__( ( always_inline ) ) static inline uint8_t ucPortCountLeadingZeros( uint32_t ulBitma
 131:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	{
 132:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	uint8_t ucReturn;
 133:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
ARM GAS  /tmp/ccr5mNtL.s 			page 52


 134:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 		__asm volatile ( "clz %0, %1" : "=r" ( ucReturn ) : "r" ( ulBitmap ) : "memory" );
 135:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 		return ucReturn;
 136:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	}
 137:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
 138:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	/* Check the configuration. */
 139:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	#if( configMAX_PRIORITIES > 32 )
 140:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 		#error configUSE_PORT_OPTIMISED_TASK_SELECTION can only be set to 1 when configMAX_PRIORITIES is 
 141:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	#endif
 142:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
 143:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	/* Store/clear the ready priorities in a bit map. */
 144:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	#define portRECORD_READY_PRIORITY( uxPriority, uxReadyPriorities ) ( uxReadyPriorities ) |= ( 1UL 
 145:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	#define portRESET_READY_PRIORITY( uxPriority, uxReadyPriorities ) ( uxReadyPriorities ) &= ~( 1UL 
 146:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
 147:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	/*-----------------------------------------------------------*/
 148:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
 149:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	#define portGET_HIGHEST_PRIORITY( uxTopPriority, uxReadyPriorities ) uxTopPriority = ( 31UL - ( ui
 150:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
 151:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #endif /* configUSE_PORT_OPTIMISED_TASK_SELECTION */
 152:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
 153:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** /*-----------------------------------------------------------*/
 154:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
 155:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #ifdef configASSERT
 156:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	void vPortValidateInterruptPriority( void );
 157:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	#define portASSERT_IF_INTERRUPT_PRIORITY_INVALID() 	vPortValidateInterruptPriority()
 158:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #endif
 159:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
 160:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** /* portNOP() is not required by this port. */
 161:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #define portNOP()
 162:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
 163:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #define portINLINE	__inline
 164:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
 165:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #ifndef portFORCE_INLINE
 166:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	#define portFORCE_INLINE inline __attribute__(( always_inline))
 167:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** #endif
 168:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
 169:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** portFORCE_INLINE static BaseType_t xPortIsInsideInterrupt( void )
 170:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** {
 171:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** uint32_t ulCurrentInterrupt;
 172:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** BaseType_t xReturn;
 173:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
 174:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	/* Obtain the number of the currently executing interrupt. */
 175:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	__asm volatile( "mrs %0, ipsr" : "=r"( ulCurrentInterrupt ) :: "memory" );
 176:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
 177:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	if( ulCurrentInterrupt == 0 )
 178:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	{
 179:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 		xReturn = pdFALSE;
 180:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	}
 181:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	else
 182:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	{
 183:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 		xReturn = pdTRUE;
 184:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	}
 185:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
 186:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	return xReturn;
 187:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** }
 188:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
 189:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** /*-----------------------------------------------------------*/
 190:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
ARM GAS  /tmp/ccr5mNtL.s 			page 53


 191:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** portFORCE_INLINE static void vPortRaiseBASEPRI( void )
 192:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** {
 193:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** uint32_t ulNewBASEPRI;
 194:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
 195:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	__asm volatile
 196:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	(
 197:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 		"	mov %0, %1												\n" \
 198:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 		"	msr basepri, %0											\n" \
 199:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 		"	isb														\n" \
 200:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 		"	dsb														\n" \
 201:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 		:"=r" (ulNewBASEPRI) : "i" ( configMAX_SYSCALL_INTERRUPT_PRIORITY ) : "memory"
 202:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	);
 203:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** }
 204:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
 205:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** /*-----------------------------------------------------------*/
 206:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
 207:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** portFORCE_INLINE static uint32_t ulPortRaiseBASEPRI( void )
 208:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** {
 209:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** uint32_t ulOriginalBASEPRI, ulNewBASEPRI;
 210:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
 211:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	__asm volatile
 1618              		.loc 3 211 0
 1619              		.syntax unified
 1620              	@ 211 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h" 1
 1621 000a EFF31185 			mrs r5, basepri											
 1622 000e 4FF05003 		mov r3, #80												
 1623 0012 83F31188 		msr basepri, r3											
 1624 0016 BFF36F8F 		isb														
 1625 001a BFF34F8F 		dsb														
 1626              	
 1627              	@ 0 "" 2
 1628              	.LVL140:
 1629              		.thumb
 1630              		.syntax unified
 1631              	.L148:
 1632              	.LBE11:
 1633              	.LBE10:
 944:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     dummy = portSET_INTERRUPT_MASK_FROM_ISR();
 945:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 946:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 947:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     vPortEnterCritical();
 948:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 949:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 950:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   for (i = 0; i < pool_id->pool_sz; i++) {
 1634              		.loc 1 950 0
 1635 001e 0020     		movs	r0, #0
 1636              	.LVL141:
 1637              	.L149:
 1638              		.loc 1 950 0 is_stmt 0 discriminator 1
 1639 0020 A168     		ldr	r1, [r4, #8]
 1640 0022 8842     		cmp	r0, r1
 1641 0024 17D2     		bcs	.L156
 951:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     index = (pool_id->currentIndex + i) % pool_id->pool_sz;
 1642              		.loc 1 951 0 is_stmt 1
 1643 0026 2369     		ldr	r3, [r4, #16]
 1644 0028 C218     		adds	r2, r0, r3
 1645 002a B2FBF1F3 		udiv	r3, r2, r1
ARM GAS  /tmp/ccr5mNtL.s 			page 54


 1646 002e 01FB1323 		mls	r3, r1, r3, r2
 1647              	.LVL142:
 952:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     
 953:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (pool_id->markers[index] == 0) {
 1648              		.loc 1 953 0
 1649 0032 6268     		ldr	r2, [r4, #4]
 1650 0034 D118     		adds	r1, r2, r3
 1651 0036 D25C     		ldrb	r2, [r2, r3]	@ zero_extendqisi2
 1652 0038 2AB1     		cbz	r2, .L157
 950:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     index = (pool_id->currentIndex + i) % pool_id->pool_sz;
 1653              		.loc 1 950 0 discriminator 2
 1654 003a 0130     		adds	r0, r0, #1
 1655              	.LVL143:
 1656 003c F0E7     		b	.L149
 1657              	.LVL144:
 1658              	.L147:
 1659 003e 0546     		mov	r5, r0
 947:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 1660              		.loc 1 947 0
 1661 0040 FFF7FEFF 		bl	vPortEnterCritical
 1662              	.LVL145:
 1663 0044 EBE7     		b	.L148
 1664              	.LVL146:
 1665              	.L157:
 954:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       pool_id->markers[index] = 1;
 1666              		.loc 1 954 0
 1667 0046 0122     		movs	r2, #1
 1668 0048 0A70     		strb	r2, [r1]
 955:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       p = (void *)((uint32_t)(pool_id->pool) + (index * pool_id->item_sz));
 1669              		.loc 1 955 0
 1670 004a 2268     		ldr	r2, [r4]
 1671 004c E668     		ldr	r6, [r4, #12]
 1672 004e 06FB0326 		mla	r6, r6, r3, r2
 1673              	.LVL147:
 956:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       pool_id->currentIndex = index;
 1674              		.loc 1 956 0
 1675 0052 2361     		str	r3, [r4, #16]
 957:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       break;
 1676              		.loc 1 957 0
 1677 0054 00E0     		b	.L151
 1678              	.LVL148:
 1679              	.L156:
 939:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t i;
 1680              		.loc 1 939 0
 1681 0056 0026     		movs	r6, #0
 1682              	.LVL149:
 1683              	.L151:
 958:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 959:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 960:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 961:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 1684              		.loc 1 961 0
 1685 0058 FFF7FEFF 		bl	inHandlerMode
 1686              	.LVL150:
 1687 005c 18B1     		cbz	r0, .L153
 1688              	.LVL151:
 1689              	.LBB12:
ARM GAS  /tmp/ccr5mNtL.s 			page 55


 1690              	.LBB13:
 212:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	(
 213:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 		"	mrs %0, basepri											\n" \
 214:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 		"	mov %1, %2												\n" \
 215:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 		"	msr basepri, %1											\n" \
 216:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 		"	isb														\n" \
 217:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 		"	dsb														\n" \
 218:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 		:"=r" (ulOriginalBASEPRI), "=r" (ulNewBASEPRI) : "i" ( configMAX_SYSCALL_INTERRUPT_PRIORITY ) : "
 219:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	);
 220:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
 221:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	/* This return will not be reached but is necessary to prevent compiler
 222:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	warnings. */
 223:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	return ulOriginalBASEPRI;
 224:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** }
 225:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** /*-----------------------------------------------------------*/
 226:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 
 227:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** portFORCE_INLINE static void vPortSetBASEPRI( uint32_t ulNewMaskValue )
 228:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** {
 229:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h **** 	__asm volatile
 1691              		.loc 3 229 0
 1692              		.syntax unified
 1693              	@ 229 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM3/portmacro.h" 1
 1694 005e 85F31188 			msr basepri, r5	
 1695              	@ 0 "" 2
 1696              	.LVL152:
 1697              		.thumb
 1698              		.syntax unified
 1699              	.L146:
 1700              	.LBE13:
 1701              	.LBE12:
 962:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portCLEAR_INTERRUPT_MASK_FROM_ISR(dummy);
 963:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 964:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 965:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     vPortExitCritical();
 966:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 967:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 968:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return p;
 969:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1702              		.loc 1 969 0
 1703 0062 3046     		mov	r0, r6
 1704 0064 70BD     		pop	{r4, r5, r6, pc}
 1705              	.LVL153:
 1706              	.L153:
 965:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 1707              		.loc 1 965 0
 1708 0066 FFF7FEFF 		bl	vPortExitCritical
 1709              	.LVL154:
 968:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1710              		.loc 1 968 0
 1711 006a FAE7     		b	.L146
 1712              		.cfi_endproc
 1713              	.LFE77:
 1715              		.section	.text.osPoolCAlloc,"ax",%progbits
 1716              		.align	1
 1717              		.global	osPoolCAlloc
 1718              		.syntax unified
 1719              		.thumb
ARM GAS  /tmp/ccr5mNtL.s 			page 56


 1720              		.thumb_func
 1721              		.fpu softvfp
 1723              	osPoolCAlloc:
 1724              	.LFB78:
 970:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 971:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 972:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Allocate a memory block from a memory pool and set memory block to zero
 973:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  pool_id       memory pool ID obtain referenced with \ref osPoolCreate.
 974:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  address of the allocated memory block or NULL in case of no memory available.
 975:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osPoolCAlloc shall be consistent in every CMSIS-RTOS.
 976:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 977:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** void *osPoolCAlloc (osPoolId pool_id)
 978:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1725              		.loc 1 978 0
 1726              		.cfi_startproc
 1727              		@ args = 0, pretend = 0, frame = 0
 1728              		@ frame_needed = 0, uses_anonymous_args = 0
 1729              	.LVL155:
 1730 0000 08B5     		push	{r3, lr}
 1731              	.LCFI45:
 1732              		.cfi_def_cfa_offset 8
 1733              		.cfi_offset 3, -8
 1734              		.cfi_offset 14, -4
 979:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   void *p = osPoolAlloc(pool_id);
 1735              		.loc 1 979 0
 1736 0002 FFF7FEFF 		bl	osPoolAlloc
 1737              	.LVL156:
 980:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 981:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (p != NULL)
 1738              		.loc 1 981 0
 1739 0006 0346     		mov	r3, r0
 1740 0008 08B1     		cbz	r0, .L158
 982:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 983:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     memset(p, 0, sizeof(pool_id->pool_sz));
 1741              		.loc 1 983 0
 1742 000a 0022     		movs	r2, #0
 1743 000c 0260     		str	r2, [r0]	@ unaligned
 1744              	.L158:
 984:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 985:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 986:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return p;
 987:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1745              		.loc 1 987 0
 1746 000e 1846     		mov	r0, r3
 1747              	.LVL157:
 1748 0010 08BD     		pop	{r3, pc}
 1749              		.cfi_endproc
 1750              	.LFE78:
 1752              		.section	.text.osPoolFree,"ax",%progbits
 1753              		.align	1
 1754              		.global	osPoolFree
 1755              		.syntax unified
 1756              		.thumb
 1757              		.thumb_func
 1758              		.fpu softvfp
 1760              	osPoolFree:
 1761              	.LFB79:
ARM GAS  /tmp/ccr5mNtL.s 			page 57


 988:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 989:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 990:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Return an allocated memory block back to a specific memory pool
 991:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  pool_id       memory pool ID obtain referenced with \ref osPoolCreate.
 992:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  block         address of the allocated memory block that is returned to the memory pool.
 993:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 994:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osPoolFree shall be consistent in every CMSIS-RTOS.
 995:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 996:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osPoolFree (osPoolId pool_id, void *block)
 997:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1762              		.loc 1 997 0
 1763              		.cfi_startproc
 1764              		@ args = 0, pretend = 0, frame = 0
 1765              		@ frame_needed = 0, uses_anonymous_args = 0
 1766              		@ link register save eliminated.
 1767              	.LVL158:
 998:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t index;
 999:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1000:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (pool_id == NULL) {
 1768              		.loc 1 1000 0
 1769 0000 0346     		mov	r3, r0
 1770 0002 C8B1     		cbz	r0, .L163
1001:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
1002:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1003:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1004:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (block == NULL) {
 1771              		.loc 1 1004 0
 1772 0004 D1B1     		cbz	r1, .L164
1005:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
1006:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1007:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1008:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (block < pool_id->pool) {
 1773              		.loc 1 1008 0
 1774 0006 0268     		ldr	r2, [r0]
 1775 0008 9142     		cmp	r1, r2
 1776 000a 01D2     		bcs	.L168
1009:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
 1777              		.loc 1 1009 0
 1778 000c 8020     		movs	r0, #128
 1779              	.LVL159:
 1780 000e 7047     		bx	lr
 1781              	.LVL160:
 1782              	.L168:
1010:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1011:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1012:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   index = (uint32_t)block - (uint32_t)(pool_id->pool);
 1783              		.loc 1 1012 0
 1784 0010 891A     		subs	r1, r1, r2
 1785              	.LVL161:
1013:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (index % pool_id->item_sz) {
 1786              		.loc 1 1013 0
 1787 0012 C068     		ldr	r0, [r0, #12]
 1788              	.LVL162:
 1789 0014 B1FBF0F2 		udiv	r2, r1, r0
 1790 0018 00FB1212 		mls	r2, r0, r2, r1
 1791 001c 0AB1     		cbz	r2, .L169
1014:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
ARM GAS  /tmp/ccr5mNtL.s 			page 58


 1792              		.loc 1 1014 0
 1793 001e 8020     		movs	r0, #128
 1794 0020 7047     		bx	lr
 1795              	.L169:
1015:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1016:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   index = index / pool_id->item_sz;
 1796              		.loc 1 1016 0
 1797 0022 B1FBF0F1 		udiv	r1, r1, r0
 1798              	.LVL163:
1017:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (index >= pool_id->pool_sz) {
 1799              		.loc 1 1017 0
 1800 0026 9A68     		ldr	r2, [r3, #8]
 1801 0028 9142     		cmp	r1, r2
 1802 002a 01D3     		bcc	.L170
1018:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
 1803              		.loc 1 1018 0
 1804 002c 8020     		movs	r0, #128
1019:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1020:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1021:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   pool_id->markers[index] = 0;
1022:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1023:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
1024:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1805              		.loc 1 1024 0
 1806 002e 7047     		bx	lr
 1807              	.L170:
1021:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 1808              		.loc 1 1021 0
 1809 0030 5B68     		ldr	r3, [r3, #4]
 1810              	.LVL164:
 1811 0032 0020     		movs	r0, #0
 1812 0034 5854     		strb	r0, [r3, r1]
1023:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1813              		.loc 1 1023 0
 1814 0036 7047     		bx	lr
 1815              	.LVL165:
 1816              	.L163:
1001:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 1817              		.loc 1 1001 0
 1818 0038 8020     		movs	r0, #128
 1819              	.LVL166:
 1820 003a 7047     		bx	lr
 1821              	.LVL167:
 1822              	.L164:
1005:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 1823              		.loc 1 1005 0
 1824 003c 8020     		movs	r0, #128
 1825              	.LVL168:
 1826 003e 7047     		bx	lr
 1827              		.cfi_endproc
 1828              	.LFE79:
 1830              		.section	.text.osMessageCreate,"ax",%progbits
 1831              		.align	1
 1832              		.global	osMessageCreate
 1833              		.syntax unified
 1834              		.thumb
 1835              		.thumb_func
ARM GAS  /tmp/ccr5mNtL.s 			page 59


 1836              		.fpu softvfp
 1838              	osMessageCreate:
 1839              	.LFB80:
1025:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1026:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1027:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif   /* Use Memory Pool Management */
1028:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1029:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*******************   Message Queue Management Functions  *********************/
1030:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1031:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (defined (osFeature_MessageQ)  &&  (osFeature_MessageQ != 0)) /* Use Message Queues */
1032:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1033:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1034:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Create and Initialize a Message Queue
1035:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param queue_def     queue definition referenced with \ref osMessageQ.
1036:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  thread_id     thread ID (obtained by \ref osThreadCreate or \ref osThreadGetId) or NULL.
1037:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  message queue ID for reference by other functions or NULL in case of error.
1038:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMessageCreate shall be consistent in every CMSIS-RTOS.
1039:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1040:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osMessageQId osMessageCreate (const osMessageQDef_t *queue_def, osThreadId thread_id)
1041:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1840              		.loc 1 1041 0
 1841              		.cfi_startproc
 1842              		@ args = 0, pretend = 0, frame = 0
 1843              		@ frame_needed = 0, uses_anonymous_args = 0
 1844              	.LVL169:
 1845 0000 10B5     		push	{r4, lr}
 1846              	.LCFI46:
 1847              		.cfi_def_cfa_offset 8
 1848              		.cfi_offset 4, -8
 1849              		.cfi_offset 14, -4
 1850 0002 82B0     		sub	sp, sp, #8
 1851              	.LCFI47:
 1852              		.cfi_def_cfa_offset 16
1042:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) thread_id;
1043:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1044:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( configSUPPORT_STATIC_ALLOCATION == 1 ) && ( configSUPPORT_DYNAMIC_ALLOCATION == 1 )
1045:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1046:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if ((queue_def->buffer != NULL) && (queue_def->controlblock != NULL)) {
 1853              		.loc 1 1046 0
 1854 0004 8268     		ldr	r2, [r0, #8]
 1855 0006 4AB1     		cbz	r2, .L172
 1856              		.loc 1 1046 0 is_stmt 0 discriminator 1
 1857 0008 C368     		ldr	r3, [r0, #12]
 1858 000a 3BB1     		cbz	r3, .L172
1047:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xQueueCreateStatic(queue_def->queue_sz, queue_def->item_sz, queue_def->buffer, queue_def
 1859              		.loc 1 1047 0 is_stmt 1
 1860 000c 4168     		ldr	r1, [r0, #4]
 1861              	.LVL170:
 1862 000e 0068     		ldr	r0, [r0]
 1863              	.LVL171:
 1864 0010 0024     		movs	r4, #0
 1865 0012 0094     		str	r4, [sp]
 1866 0014 FFF7FEFF 		bl	xQueueGenericCreateStatic
 1867              	.LVL172:
 1868              	.L171:
1048:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1049:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
ARM GAS  /tmp/ccr5mNtL.s 			page 60


1050:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xQueueCreate(queue_def->queue_sz, queue_def->item_sz);
1051:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1052:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif ( configSUPPORT_STATIC_ALLOCATION == 1 )
1053:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xQueueCreateStatic(queue_def->queue_sz, queue_def->item_sz, queue_def->buffer, queue_def->
1054:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else  
1055:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xQueueCreate(queue_def->queue_sz, queue_def->item_sz);
1056:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1057:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1869              		.loc 1 1057 0
 1870 0018 02B0     		add	sp, sp, #8
 1871              	.LCFI48:
 1872              		.cfi_remember_state
 1873              		.cfi_def_cfa_offset 8
 1874              		@ sp needed
 1875 001a 10BD     		pop	{r4, pc}
 1876              	.LVL173:
 1877              	.L172:
 1878              	.LCFI49:
 1879              		.cfi_restore_state
1050:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 1880              		.loc 1 1050 0
 1881 001c 0022     		movs	r2, #0
 1882 001e 4168     		ldr	r1, [r0, #4]
 1883              	.LVL174:
 1884 0020 0068     		ldr	r0, [r0]
 1885              	.LVL175:
 1886 0022 FFF7FEFF 		bl	xQueueGenericCreate
 1887              	.LVL176:
 1888 0026 F7E7     		b	.L171
 1889              		.cfi_endproc
 1890              	.LFE80:
 1892              		.section	.text.osMessagePut,"ax",%progbits
 1893              		.align	1
 1894              		.global	osMessagePut
 1895              		.syntax unified
 1896              		.thumb
 1897              		.thumb_func
 1898              		.fpu softvfp
 1900              	osMessagePut:
 1901              	.LFB81:
1058:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1059:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1060:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Put a Message to a Queue.
1061:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id  message queue ID obtained with \ref osMessageCreate.
1062:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  info      message information.
1063:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec  timeout value or 0 in case of no time-out.
1064:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval status code that indicates the execution status of the function.
1065:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMessagePut shall be consistent in every CMSIS-RTOS.
1066:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1067:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osMessagePut (osMessageQId queue_id, uint32_t info, uint32_t millisec)
1068:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1902              		.loc 1 1068 0
 1903              		.cfi_startproc
 1904              		@ args = 0, pretend = 0, frame = 16
 1905              		@ frame_needed = 0, uses_anonymous_args = 0
 1906              	.LVL177:
 1907 0000 30B5     		push	{r4, r5, lr}
ARM GAS  /tmp/ccr5mNtL.s 			page 61


 1908              	.LCFI50:
 1909              		.cfi_def_cfa_offset 12
 1910              		.cfi_offset 4, -12
 1911              		.cfi_offset 5, -8
 1912              		.cfi_offset 14, -4
 1913 0002 85B0     		sub	sp, sp, #20
 1914              	.LCFI51:
 1915              		.cfi_def_cfa_offset 32
 1916 0004 0446     		mov	r4, r0
 1917 0006 0191     		str	r1, [sp, #4]
1069:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;
 1918              		.loc 1 1069 0
 1919 0008 0023     		movs	r3, #0
 1920 000a 0393     		str	r3, [sp, #12]
 1921              	.LVL178:
1070:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
1071:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1072:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = millisec / portTICK_PERIOD_MS;
1073:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (ticks == 0) {
 1922              		.loc 1 1073 0
 1923 000c 1546     		mov	r5, r2
 1924 000e 02B9     		cbnz	r2, .L176
1074:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = 1;
 1925              		.loc 1 1074 0
 1926 0010 0125     		movs	r5, #1
 1927              	.L176:
 1928              	.LVL179:
1075:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1076:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1077:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 1929              		.loc 1 1077 0
 1930 0012 FFF7FEFF 		bl	inHandlerMode
 1931              	.LVL180:
 1932 0016 A8B1     		cbz	r0, .L177
1078:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueSendFromISR(queue_id, &info, &taskWoken) != pdTRUE) {
 1933              		.loc 1 1078 0
 1934 0018 0023     		movs	r3, #0
 1935 001a 03AA     		add	r2, sp, #12
 1936 001c 01A9     		add	r1, sp, #4
 1937 001e 2046     		mov	r0, r4
 1938 0020 FFF7FEFF 		bl	xQueueGenericSendFromISR
 1939              	.LVL181:
 1940 0024 0128     		cmp	r0, #1
 1941 0026 01D0     		beq	.L184
1079:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 1942              		.loc 1 1079 0
 1943 0028 FF20     		movs	r0, #255
 1944 002a 14E0     		b	.L175
 1945              	.L184:
1080:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1081:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portEND_SWITCHING_ISR(taskWoken);
 1946              		.loc 1 1081 0
 1947 002c 039B     		ldr	r3, [sp, #12]
 1948 002e A3B1     		cbz	r3, .L181
 1949              		.loc 1 1081 0 is_stmt 0 discriminator 1
 1950 0030 4FF08052 		mov	r2, #268435456
 1951 0034 0B4B     		ldr	r3, .L185
ARM GAS  /tmp/ccr5mNtL.s 			page 62


 1952 0036 1A60     		str	r2, [r3]
 1953              		.syntax unified
 1954              	@ 1081 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1955 0038 BFF34F8F 		dsb
 1956              	@ 0 "" 2
 1957              	@ 1081 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1958 003c BFF36F8F 		isb
 1959              	@ 0 "" 2
1082:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1083:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
1084:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueSend(queue_id, &info, ticks) != pdTRUE) {
1085:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
1086:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1087:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1088:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1089:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 1960              		.loc 1 1089 0 is_stmt 1 discriminator 1
 1961              		.thumb
 1962              		.syntax unified
 1963 0040 0020     		movs	r0, #0
 1964 0042 08E0     		b	.L175
 1965              	.L177:
1084:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 1966              		.loc 1 1084 0
 1967 0044 0023     		movs	r3, #0
 1968 0046 2A46     		mov	r2, r5
 1969 0048 01A9     		add	r1, sp, #4
 1970 004a 2046     		mov	r0, r4
 1971 004c FFF7FEFF 		bl	xQueueGenericSend
 1972              	.LVL182:
 1973 0050 0128     		cmp	r0, #1
 1974 0052 04D0     		beq	.L182
1085:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 1975              		.loc 1 1085 0
 1976 0054 FF20     		movs	r0, #255
 1977              	.L175:
1090:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1978              		.loc 1 1090 0
 1979 0056 05B0     		add	sp, sp, #20
 1980              	.LCFI52:
 1981              		.cfi_remember_state
 1982              		.cfi_def_cfa_offset 12
 1983              		@ sp needed
 1984 0058 30BD     		pop	{r4, r5, pc}
 1985              	.LVL183:
 1986              	.L181:
 1987              	.LCFI53:
 1988              		.cfi_restore_state
1089:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1989              		.loc 1 1089 0
 1990 005a 0020     		movs	r0, #0
 1991 005c FBE7     		b	.L175
 1992              	.L182:
 1993 005e 0020     		movs	r0, #0
 1994 0060 F9E7     		b	.L175
 1995              	.L186:
 1996 0062 00BF     		.align	2
ARM GAS  /tmp/ccr5mNtL.s 			page 63


 1997              	.L185:
 1998 0064 04ED00E0 		.word	-536810236
 1999              		.cfi_endproc
 2000              	.LFE81:
 2002              		.section	.text.osMessageGet,"ax",%progbits
 2003              		.align	1
 2004              		.global	osMessageGet
 2005              		.syntax unified
 2006              		.thumb
 2007              		.thumb_func
 2008              		.fpu softvfp
 2010              	osMessageGet:
 2011              	.LFB82:
1091:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1092:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1093:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Get a Message or Wait for a Message from a Queue.
1094:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id  message queue ID obtained with \ref osMessageCreate.
1095:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec  timeout value or 0 in case of no time-out.
1096:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval event information that includes status code.
1097:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMessageGet shall be consistent in every CMSIS-RTOS.
1098:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1099:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osEvent osMessageGet (osMessageQId queue_id, uint32_t millisec)
1100:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2012              		.loc 1 1100 0
 2013              		.cfi_startproc
 2014              		@ args = 0, pretend = 0, frame = 16
 2015              		@ frame_needed = 0, uses_anonymous_args = 0
 2016              	.LVL184:
 2017 0000 70B5     		push	{r4, r5, r6, lr}
 2018              	.LCFI54:
 2019              		.cfi_def_cfa_offset 16
 2020              		.cfi_offset 4, -16
 2021              		.cfi_offset 5, -12
 2022              		.cfi_offset 6, -8
 2023              		.cfi_offset 14, -4
 2024 0002 84B0     		sub	sp, sp, #16
 2025              	.LCFI55:
 2026              		.cfi_def_cfa_offset 32
 2027 0004 0446     		mov	r4, r0
1101:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken;
1102:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
1103:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osEvent event;
1104:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1105:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   event.def.message_id = queue_id;
 2028              		.loc 1 1105 0
 2029 0006 0291     		str	r1, [sp, #8]
1106:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   event.value.v = 0;
 2030              		.loc 1 1106 0
 2031 0008 0023     		movs	r3, #0
 2032 000a 0193     		str	r3, [sp, #4]
1107:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1108:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (queue_id == NULL) {
 2033              		.loc 1 1108 0
 2034 000c F9B1     		cbz	r1, .L200
 2035 000e 0D46     		mov	r5, r1
 2036 0010 1646     		mov	r6, r2
1109:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     event.status = osErrorParameter;
ARM GAS  /tmp/ccr5mNtL.s 			page 64


1110:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return event;
1111:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1112:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1113:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   taskWoken = pdFALSE;
 2037              		.loc 1 1113 0
 2038 0012 0023     		movs	r3, #0
 2039 0014 0393     		str	r3, [sp, #12]
 2040              	.LVL185:
1114:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1115:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = 0;
1116:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) {
 2041              		.loc 1 1116 0
 2042 0016 B2F1FF3F 		cmp	r2, #-1
 2043 001a 21D0     		beq	.L197
1117:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = portMAX_DELAY;
1118:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1119:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (millisec != 0) {
 2044              		.loc 1 1119 0
 2045 001c 02B9     		cbnz	r2, .L190
1115:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) {
 2046              		.loc 1 1115 0
 2047 001e 1E46     		mov	r6, r3
 2048              	.L190:
 2049              	.LVL186:
1120:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = millisec / portTICK_PERIOD_MS;
1121:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (ticks == 0) {
1122:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ticks = 1;
1123:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1124:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1125:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1126:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 2050              		.loc 1 1126 0
 2051 0020 FFF7FEFF 		bl	inHandlerMode
 2052              	.LVL187:
 2053 0024 10B3     		cbz	r0, .L191
1127:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueReceiveFromISR(queue_id, &event.value.v, &taskWoken) == pdTRUE) {
 2054              		.loc 1 1127 0
 2055 0026 03AA     		add	r2, sp, #12
 2056 0028 01A9     		add	r1, sp, #4
 2057 002a 2846     		mov	r0, r5
 2058 002c FFF7FEFF 		bl	xQueueReceiveFromISR
 2059              	.LVL188:
 2060 0030 0128     		cmp	r0, #1
 2061 0032 18D0     		beq	.L201
1128:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       /* We have mail */
1129:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = osEventMessage;
1130:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1131:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else {
1132:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = osOK;
 2062              		.loc 1 1132 0
 2063 0034 0023     		movs	r3, #0
 2064 0036 0093     		str	r3, [sp]
 2065              	.L193:
1133:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1134:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portEND_SWITCHING_ISR(taskWoken);
 2066              		.loc 1 1134 0
 2067 0038 039B     		ldr	r3, [sp, #12]
ARM GAS  /tmp/ccr5mNtL.s 			page 65


 2068 003a 0BB3     		cbz	r3, .L194
 2069              		.loc 1 1134 0 is_stmt 0 discriminator 1
 2070 003c 4FF08052 		mov	r2, #268435456
 2071 0040 154B     		ldr	r3, .L203
 2072 0042 1A60     		str	r2, [r3]
 2073              		.syntax unified
 2074              	@ 1134 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 2075 0044 BFF34F8F 		dsb
 2076              	@ 0 "" 2
 2077              	@ 1134 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 2078 0048 BFF36F8F 		isb
 2079              	@ 0 "" 2
 2080              		.thumb
 2081              		.syntax unified
 2082 004c 18E0     		b	.L194
 2083              	.LVL189:
 2084              	.L200:
1109:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return event;
 2085              		.loc 1 1109 0 is_stmt 1
 2086 004e 04AB     		add	r3, sp, #16
 2087 0050 8022     		movs	r2, #128
 2088              	.LVL190:
 2089 0052 43F8102D 		str	r2, [r3, #-16]!
1110:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 2090              		.loc 1 1110 0
 2091 0056 93E80700 		ldm	r3, {r0, r1, r2}
 2092              	.LVL191:
 2093 005a 84E80700 		stm	r4, {r0, r1, r2}
 2094 005e 13E0     		b	.L187
 2095              	.LVL192:
 2096              	.L197:
1117:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 2097              		.loc 1 1117 0
 2098 0060 4FF0FF36 		mov	r6, #-1
 2099 0064 DCE7     		b	.L190
 2100              	.LVL193:
 2101              	.L201:
1129:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 2102              		.loc 1 1129 0
 2103 0066 1023     		movs	r3, #16
 2104 0068 0093     		str	r3, [sp]
 2105 006a E5E7     		b	.L193
 2106              	.L191:
1135:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1136:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
1137:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueReceive(queue_id, &event.value.v, ticks) == pdTRUE) {
 2107              		.loc 1 1137 0
 2108 006c 3246     		mov	r2, r6
 2109 006e 01A9     		add	r1, sp, #4
 2110 0070 2846     		mov	r0, r5
 2111 0072 FFF7FEFF 		bl	xQueueReceive
 2112              	.LVL194:
 2113 0076 0128     		cmp	r0, #1
 2114 0078 09D0     		beq	.L202
1138:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       /* We have mail */
1139:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = osEventMessage;
1140:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
ARM GAS  /tmp/ccr5mNtL.s 			page 66


1141:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else {
1142:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = (ticks == 0) ? osOK : osEventTimeout;
 2115              		.loc 1 1142 0
 2116 007a 5EB9     		cbnz	r6, .L198
 2117 007c 0023     		movs	r3, #0
 2118              	.L196:
 2119              		.loc 1 1142 0 is_stmt 0 discriminator 4
 2120 007e 0093     		str	r3, [sp]
 2121              	.L194:
1143:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1144:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1145:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1146:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return event;
 2122              		.loc 1 1146 0 is_stmt 1
 2123 0080 9DE80700 		ldm	sp, {r0, r1, r2}
 2124 0084 84E80700 		stm	r4, {r0, r1, r2}
 2125              	.LVL195:
 2126              	.L187:
1147:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2127              		.loc 1 1147 0
 2128 0088 2046     		mov	r0, r4
 2129 008a 04B0     		add	sp, sp, #16
 2130              	.LCFI56:
 2131              		.cfi_remember_state
 2132              		.cfi_def_cfa_offset 16
 2133              		@ sp needed
 2134 008c 70BD     		pop	{r4, r5, r6, pc}
 2135              	.LVL196:
 2136              	.L202:
 2137              	.LCFI57:
 2138              		.cfi_restore_state
1139:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 2139              		.loc 1 1139 0
 2140 008e 1023     		movs	r3, #16
 2141 0090 0093     		str	r3, [sp]
 2142 0092 F5E7     		b	.L194
 2143              	.L198:
1142:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 2144              		.loc 1 1142 0
 2145 0094 4023     		movs	r3, #64
 2146 0096 F2E7     		b	.L196
 2147              	.L204:
 2148              		.align	2
 2149              	.L203:
 2150 0098 04ED00E0 		.word	-536810236
 2151              		.cfi_endproc
 2152              	.LFE82:
 2154              		.section	.text.osMailCreate,"ax",%progbits
 2155              		.align	1
 2156              		.global	osMailCreate
 2157              		.syntax unified
 2158              		.thumb
 2159              		.thumb_func
 2160              		.fpu softvfp
 2162              	osMailCreate:
 2163              	.LFB83:
1148:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
ARM GAS  /tmp/ccr5mNtL.s 			page 67


1149:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif     /* Use Message Queues */
1150:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1151:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /********************   Mail Queue Management Functions  ***********************/
1152:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (defined (osFeature_MailQ)  &&  (osFeature_MailQ != 0))  /* Use Mail Queues */
1153:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1154:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1155:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** typedef struct os_mailQ_cb {
1156:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   const osMailQDef_t *queue_def;
1157:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   QueueHandle_t handle;
1158:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osPoolId pool;
1159:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** } os_mailQ_cb_t;
1160:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1161:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1162:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Create and Initialize mail queue
1163:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_def     reference to the mail queue definition obtain with \ref osMailQ
1164:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id     thread ID (obtained by \ref osThreadCreate or \ref osThreadGetId) or NULL.
1165:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval mail queue ID for reference by other functions or NULL in case of error.
1166:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMailCreate shall be consistent in every CMSIS-RTOS.
1167:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1168:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osMailQId osMailCreate (const osMailQDef_t *queue_def, osThreadId thread_id)
1169:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2164              		.loc 1 1169 0
 2165              		.cfi_startproc
 2166              		@ args = 0, pretend = 0, frame = 16
 2167              		@ frame_needed = 0, uses_anonymous_args = 0
 2168              	.LVL197:
 2169 0000 30B5     		push	{r4, r5, lr}
 2170              	.LCFI58:
 2171              		.cfi_def_cfa_offset 12
 2172              		.cfi_offset 4, -12
 2173              		.cfi_offset 5, -8
 2174              		.cfi_offset 14, -4
 2175 0002 85B0     		sub	sp, sp, #20
 2176              	.LCFI59:
 2177              		.cfi_def_cfa_offset 32
 2178 0004 0446     		mov	r4, r0
1170:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configSUPPORT_DYNAMIC_ALLOCATION == 1)
1171:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) thread_id;
1172:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1173:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osPoolDef_t pool_def = {queue_def->queue_sz, queue_def->item_sz, NULL};
 2179              		.loc 1 1173 0
 2180 0006 0368     		ldr	r3, [r0]
 2181 0008 0193     		str	r3, [sp, #4]
 2182 000a 4368     		ldr	r3, [r0, #4]
 2183 000c 0293     		str	r3, [sp, #8]
 2184 000e 0023     		movs	r3, #0
 2185 0010 0393     		str	r3, [sp, #12]
1174:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1175:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   /* Create a mail queue control block */
1176:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1177:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *(queue_def->cb) = pvPortMalloc(sizeof(struct os_mailQ_cb));
 2186              		.loc 1 1177 0
 2187 0012 8568     		ldr	r5, [r0, #8]
 2188 0014 0C20     		movs	r0, #12
 2189              	.LVL198:
 2190 0016 FFF7FEFF 		bl	pvPortMalloc
 2191              	.LVL199:
ARM GAS  /tmp/ccr5mNtL.s 			page 68


 2192 001a 2860     		str	r0, [r5]
1178:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1179:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (*(queue_def->cb) == NULL) {
 2193              		.loc 1 1179 0
 2194 001c A368     		ldr	r3, [r4, #8]
 2195 001e 1B68     		ldr	r3, [r3]
 2196 0020 FBB1     		cbz	r3, .L208
1180:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return NULL;
1181:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1182:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (*(queue_def->cb))->queue_def = queue_def;
 2197              		.loc 1 1182 0
 2198 0022 1C60     		str	r4, [r3]
1183:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1184:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   /* Create a queue in FreeRTOS */
1185:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (*(queue_def->cb))->handle = xQueueCreate(queue_def->queue_sz, sizeof(void *));
 2199              		.loc 1 1185 0
 2200 0024 A368     		ldr	r3, [r4, #8]
 2201 0026 1D68     		ldr	r5, [r3]
 2202 0028 0022     		movs	r2, #0
 2203 002a 0421     		movs	r1, #4
 2204 002c 2068     		ldr	r0, [r4]
 2205 002e FFF7FEFF 		bl	xQueueGenericCreate
 2206              	.LVL200:
 2207 0032 6860     		str	r0, [r5, #4]
1186:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1187:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1188:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if ((*(queue_def->cb))->handle == NULL) {
 2208              		.loc 1 1188 0
 2209 0034 A368     		ldr	r3, [r4, #8]
 2210 0036 1D68     		ldr	r5, [r3]
 2211 0038 6B68     		ldr	r3, [r5, #4]
 2212 003a 4BB1     		cbz	r3, .L210
1189:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     vPortFree(*(queue_def->cb));
1190:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return NULL;
1191:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1192:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1193:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   /* Create a mail pool */
1194:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (*(queue_def->cb))->pool = osPoolCreate(&pool_def);
 2213              		.loc 1 1194 0
 2214 003c 01A8     		add	r0, sp, #4
 2215 003e FFF7FEFF 		bl	osPoolCreate
 2216              	.LVL201:
 2217 0042 A860     		str	r0, [r5, #8]
1195:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if ((*(queue_def->cb))->pool == NULL) {
 2218              		.loc 1 1195 0
 2219 0044 A368     		ldr	r3, [r4, #8]
 2220 0046 1868     		ldr	r0, [r3]
 2221 0048 8368     		ldr	r3, [r0, #8]
 2222 004a 33B1     		cbz	r3, .L211
 2223              	.L205:
1196:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     //TODO: Delete queue. How to do it in FreeRTOS?
1197:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     vPortFree(*(queue_def->cb));
1198:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return NULL;
1199:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1200:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1201:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return *(queue_def->cb);
1202:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
ARM GAS  /tmp/ccr5mNtL.s 			page 69


1203:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return NULL;
1204:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1205:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2224              		.loc 1 1205 0
 2225 004c 05B0     		add	sp, sp, #20
 2226              	.LCFI60:
 2227              		.cfi_remember_state
 2228              		.cfi_def_cfa_offset 12
 2229              		@ sp needed
 2230 004e 30BD     		pop	{r4, r5, pc}
 2231              	.LVL202:
 2232              	.L210:
 2233              	.LCFI61:
 2234              		.cfi_restore_state
1189:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return NULL;
 2235              		.loc 1 1189 0
 2236 0050 2846     		mov	r0, r5
 2237 0052 FFF7FEFF 		bl	vPortFree
 2238              	.LVL203:
1190:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 2239              		.loc 1 1190 0
 2240 0056 0020     		movs	r0, #0
 2241 0058 F8E7     		b	.L205
 2242              	.L211:
1197:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return NULL;
 2243              		.loc 1 1197 0
 2244 005a FFF7FEFF 		bl	vPortFree
 2245              	.LVL204:
1198:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 2246              		.loc 1 1198 0
 2247 005e 0020     		movs	r0, #0
 2248 0060 F4E7     		b	.L205
 2249              	.L208:
1180:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 2250              		.loc 1 1180 0
 2251 0062 0020     		movs	r0, #0
 2252 0064 F2E7     		b	.L205
 2253              		.cfi_endproc
 2254              	.LFE83:
 2256              		.section	.text.osMailAlloc,"ax",%progbits
 2257              		.align	1
 2258              		.global	osMailAlloc
 2259              		.syntax unified
 2260              		.thumb
 2261              		.thumb_func
 2262              		.fpu softvfp
 2264              	osMailAlloc:
 2265              	.LFB84:
1206:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1207:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1208:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Allocate a memory block from a mail
1209:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id      mail queue ID obtained with \ref osMailCreate.
1210:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec      timeout value or 0 in case of no time-out.
1211:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval pointer to memory block that can be filled with mail or NULL in case error.
1212:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMailAlloc shall be consistent in every CMSIS-RTOS.
1213:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1214:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** void *osMailAlloc (osMailQId queue_id, uint32_t millisec)
ARM GAS  /tmp/ccr5mNtL.s 			page 70


1215:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2266              		.loc 1 1215 0
 2267              		.cfi_startproc
 2268              		@ args = 0, pretend = 0, frame = 0
 2269              		@ frame_needed = 0, uses_anonymous_args = 0
 2270              	.LVL205:
1216:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) millisec;
1217:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   void *p;
1218:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1219:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1220:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (queue_id == NULL) {
 2271              		.loc 1 1220 0
 2272 0000 20B1     		cbz	r0, .L214
1215:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) millisec;
 2273              		.loc 1 1215 0
 2274 0002 08B5     		push	{r3, lr}
 2275              	.LCFI62:
 2276              		.cfi_def_cfa_offset 8
 2277              		.cfi_offset 3, -8
 2278              		.cfi_offset 14, -4
1221:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return NULL;
1222:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1223:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1224:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   p = osPoolAlloc(queue_id->pool);
 2279              		.loc 1 1224 0
 2280 0004 8068     		ldr	r0, [r0, #8]
 2281              	.LVL206:
 2282 0006 FFF7FEFF 		bl	osPoolAlloc
 2283              	.LVL207:
1225:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1226:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return p;
 2284              		.loc 1 1226 0
 2285 000a 08BD     		pop	{r3, pc}
 2286              	.LVL208:
 2287              	.L214:
 2288              	.LCFI63:
 2289              		.cfi_def_cfa_offset 0
 2290              		.cfi_restore 3
 2291              		.cfi_restore 14
1221:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return NULL;
 2292              		.loc 1 1221 0
 2293 000c 0020     		movs	r0, #0
 2294              	.LVL209:
 2295 000e 7047     		bx	lr
 2296              		.cfi_endproc
 2297              	.LFE84:
 2299              		.section	.text.osMailCAlloc,"ax",%progbits
 2300              		.align	1
 2301              		.global	osMailCAlloc
 2302              		.syntax unified
 2303              		.thumb
 2304              		.thumb_func
 2305              		.fpu softvfp
 2307              	osMailCAlloc:
 2308              	.LFB85:
1227:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
1228:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
ARM GAS  /tmp/ccr5mNtL.s 			page 71


1229:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1230:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Allocate a memory block from a mail and set memory block to zero
1231:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id      mail queue ID obtained with \ref osMailCreate.
1232:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec      timeout value or 0 in case of no time-out.
1233:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval pointer to memory block that can be filled with mail or NULL in case error.
1234:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMailCAlloc shall be consistent in every CMSIS-RTOS.
1235:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1236:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** void *osMailCAlloc (osMailQId queue_id, uint32_t millisec)
1237:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2309              		.loc 1 1237 0
 2310              		.cfi_startproc
 2311              		@ args = 0, pretend = 0, frame = 0
 2312              		@ frame_needed = 0, uses_anonymous_args = 0
 2313              	.LVL210:
 2314 0000 10B5     		push	{r4, lr}
 2315              	.LCFI64:
 2316              		.cfi_def_cfa_offset 8
 2317              		.cfi_offset 4, -8
 2318              		.cfi_offset 14, -4
 2319 0002 0446     		mov	r4, r0
1238:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t i;
1239:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   void *p = osMailAlloc(queue_id, millisec);
 2320              		.loc 1 1239 0
 2321 0004 FFF7FEFF 		bl	osMailAlloc
 2322              	.LVL211:
1240:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1241:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (p) {
 2323              		.loc 1 1241 0
 2324 0008 0146     		mov	r1, r0
 2325 000a 40B1     		cbz	r0, .L219
 2326 000c 0023     		movs	r3, #0
 2327 000e 02E0     		b	.L220
 2328              	.LVL212:
 2329              	.L222:
1242:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     for (i = 0; i < queue_id->queue_def->item_sz; i++) {
1243:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ((uint8_t *)p)[i] = 0;
 2330              		.loc 1 1243 0 discriminator 3
 2331 0010 0022     		movs	r2, #0
 2332 0012 CA54     		strb	r2, [r1, r3]
1242:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     for (i = 0; i < queue_id->queue_def->item_sz; i++) {
 2333              		.loc 1 1242 0 discriminator 3
 2334 0014 0133     		adds	r3, r3, #1
 2335              	.LVL213:
 2336              	.L220:
1242:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     for (i = 0; i < queue_id->queue_def->item_sz; i++) {
 2337              		.loc 1 1242 0 is_stmt 0 discriminator 1
 2338 0016 2268     		ldr	r2, [r4]
 2339 0018 5268     		ldr	r2, [r2, #4]
 2340 001a 9342     		cmp	r3, r2
 2341 001c F8D3     		bcc	.L222
 2342              	.LVL214:
 2343              	.L219:
1244:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1245:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1246:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1247:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return p;
1248:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
ARM GAS  /tmp/ccr5mNtL.s 			page 72


 2344              		.loc 1 1248 0 is_stmt 1
 2345 001e 0846     		mov	r0, r1
 2346              	.LVL215:
 2347 0020 10BD     		pop	{r4, pc}
 2348              		.cfi_endproc
 2349              	.LFE85:
 2351              		.section	.text.osMailPut,"ax",%progbits
 2352              		.align	1
 2353              		.global	osMailPut
 2354              		.syntax unified
 2355              		.thumb
 2356              		.thumb_func
 2357              		.fpu softvfp
 2359              	osMailPut:
 2360              	.LFB86:
1249:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1250:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1251:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Put a mail to a queue
1252:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id      mail queue ID obtained with \ref osMailCreate.
1253:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  mail          memory block previously allocated with \ref osMailAlloc or \ref osMailCAllo
1254:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval status code that indicates the execution status of the function.
1255:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMailPut shall be consistent in every CMSIS-RTOS.
1256:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1257:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osMailPut (osMailQId queue_id, void *mail)
1258:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2361              		.loc 1 1258 0
 2362              		.cfi_startproc
 2363              		@ args = 0, pretend = 0, frame = 16
 2364              		@ frame_needed = 0, uses_anonymous_args = 0
 2365              	.LVL216:
 2366 0000 10B5     		push	{r4, lr}
 2367              	.LCFI65:
 2368              		.cfi_def_cfa_offset 8
 2369              		.cfi_offset 4, -8
 2370              		.cfi_offset 14, -4
 2371 0002 84B0     		sub	sp, sp, #16
 2372              	.LCFI66:
 2373              		.cfi_def_cfa_offset 24
 2374 0004 0191     		str	r1, [sp, #4]
1259:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken;
1260:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1261:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1262:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (queue_id == NULL) {
 2375              		.loc 1 1262 0
 2376 0006 28B3     		cbz	r0, .L228
 2377 0008 0446     		mov	r4, r0
1263:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
1264:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1265:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1266:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   taskWoken = pdFALSE;
 2378              		.loc 1 1266 0
 2379 000a 0023     		movs	r3, #0
 2380 000c 0393     		str	r3, [sp, #12]
1267:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1268:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 2381              		.loc 1 1268 0
 2382 000e FFF7FEFF 		bl	inHandlerMode
ARM GAS  /tmp/ccr5mNtL.s 			page 73


 2383              	.LVL217:
 2384 0012 A8B1     		cbz	r0, .L227
1269:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueSendFromISR(queue_id->handle, &mail, &taskWoken) != pdTRUE) {
 2385              		.loc 1 1269 0
 2386 0014 0023     		movs	r3, #0
 2387 0016 03AA     		add	r2, sp, #12
 2388 0018 01A9     		add	r1, sp, #4
 2389 001a 6068     		ldr	r0, [r4, #4]
 2390 001c FFF7FEFF 		bl	xQueueGenericSendFromISR
 2391              	.LVL218:
 2392 0020 0128     		cmp	r0, #1
 2393 0022 01D0     		beq	.L233
1270:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 2394              		.loc 1 1270 0
 2395 0024 FF20     		movs	r0, #255
 2396 0026 16E0     		b	.L225
 2397              	.L233:
1271:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1272:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portEND_SWITCHING_ISR(taskWoken);
 2398              		.loc 1 1272 0
 2399 0028 039B     		ldr	r3, [sp, #12]
 2400 002a B3B1     		cbz	r3, .L230
 2401              		.loc 1 1272 0 is_stmt 0 discriminator 1
 2402 002c 4FF08052 		mov	r2, #268435456
 2403 0030 0C4B     		ldr	r3, .L234
 2404 0032 1A60     		str	r2, [r3]
 2405              		.syntax unified
 2406              	@ 1272 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 2407 0034 BFF34F8F 		dsb
 2408              	@ 0 "" 2
 2409              	@ 1272 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 2410 0038 BFF36F8F 		isb
 2411              	@ 0 "" 2
1273:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1274:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
1275:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueSend(queue_id->handle, &mail, 0) != pdTRUE) { 
1276:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
1277:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1278:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1279:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1280:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 2412              		.loc 1 1280 0 is_stmt 1 discriminator 1
 2413              		.thumb
 2414              		.syntax unified
 2415 003c 0020     		movs	r0, #0
 2416 003e 0AE0     		b	.L225
 2417              	.L227:
1275:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 2418              		.loc 1 1275 0
 2419 0040 0023     		movs	r3, #0
 2420 0042 1A46     		mov	r2, r3
 2421 0044 01A9     		add	r1, sp, #4
 2422 0046 6068     		ldr	r0, [r4, #4]
 2423 0048 FFF7FEFF 		bl	xQueueGenericSend
 2424              	.LVL219:
 2425 004c 0128     		cmp	r0, #1
 2426 004e 06D0     		beq	.L231
ARM GAS  /tmp/ccr5mNtL.s 			page 74


1276:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 2427              		.loc 1 1276 0
 2428 0050 FF20     		movs	r0, #255
 2429 0052 00E0     		b	.L225
 2430              	.LVL220:
 2431              	.L228:
1263:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 2432              		.loc 1 1263 0
 2433 0054 8020     		movs	r0, #128
 2434              	.LVL221:
 2435              	.L225:
1281:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2436              		.loc 1 1281 0
 2437 0056 04B0     		add	sp, sp, #16
 2438              	.LCFI67:
 2439              		.cfi_remember_state
 2440              		.cfi_def_cfa_offset 8
 2441              		@ sp needed
 2442 0058 10BD     		pop	{r4, pc}
 2443              	.LVL222:
 2444              	.L230:
 2445              	.LCFI68:
 2446              		.cfi_restore_state
1280:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2447              		.loc 1 1280 0
 2448 005a 0020     		movs	r0, #0
 2449 005c FBE7     		b	.L225
 2450              	.L231:
 2451 005e 0020     		movs	r0, #0
 2452 0060 F9E7     		b	.L225
 2453              	.L235:
 2454 0062 00BF     		.align	2
 2455              	.L234:
 2456 0064 04ED00E0 		.word	-536810236
 2457              		.cfi_endproc
 2458              	.LFE86:
 2460              		.section	.text.osMailGet,"ax",%progbits
 2461              		.align	1
 2462              		.global	osMailGet
 2463              		.syntax unified
 2464              		.thumb
 2465              		.thumb_func
 2466              		.fpu softvfp
 2468              	osMailGet:
 2469              	.LFB87:
1282:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1283:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1284:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Get a mail from a queue
1285:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id   mail queue ID obtained with \ref osMailCreate.
1286:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param millisec    timeout value or 0 in case of no time-out
1287:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval event that contains mail information or error code.
1288:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMailGet shall be consistent in every CMSIS-RTOS.
1289:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1290:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osEvent osMailGet (osMailQId queue_id, uint32_t millisec)
1291:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2470              		.loc 1 1291 0
 2471              		.cfi_startproc
ARM GAS  /tmp/ccr5mNtL.s 			page 75


 2472              		@ args = 0, pretend = 0, frame = 16
 2473              		@ frame_needed = 0, uses_anonymous_args = 0
 2474              	.LVL223:
 2475 0000 70B5     		push	{r4, r5, r6, lr}
 2476              	.LCFI69:
 2477              		.cfi_def_cfa_offset 16
 2478              		.cfi_offset 4, -16
 2479              		.cfi_offset 5, -12
 2480              		.cfi_offset 6, -8
 2481              		.cfi_offset 14, -4
 2482 0002 84B0     		sub	sp, sp, #16
 2483              	.LCFI70:
 2484              		.cfi_def_cfa_offset 32
 2485 0004 0446     		mov	r4, r0
1292:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken;
1293:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
1294:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osEvent event;
1295:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1296:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   event.def.mail_id = queue_id;
 2486              		.loc 1 1296 0
 2487 0006 0291     		str	r1, [sp, #8]
1297:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1298:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (queue_id == NULL) {
 2488              		.loc 1 1298 0
 2489 0008 F9B1     		cbz	r1, .L249
 2490 000a 0D46     		mov	r5, r1
 2491 000c 1646     		mov	r6, r2
1299:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     event.status = osErrorParameter;
1300:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return event;
1301:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1302:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1303:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   taskWoken = pdFALSE;
 2492              		.loc 1 1303 0
 2493 000e 0023     		movs	r3, #0
 2494 0010 0393     		str	r3, [sp, #12]
 2495              	.LVL224:
1304:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1305:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = 0;
1306:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) {
 2496              		.loc 1 1306 0
 2497 0012 B2F1FF3F 		cmp	r2, #-1
 2498 0016 21D0     		beq	.L246
1307:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = portMAX_DELAY;
1308:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1309:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (millisec != 0) {
 2499              		.loc 1 1309 0
 2500 0018 02B9     		cbnz	r2, .L239
1305:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) {
 2501              		.loc 1 1305 0
 2502 001a 1E46     		mov	r6, r3
 2503              	.L239:
 2504              	.LVL225:
1310:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = millisec / portTICK_PERIOD_MS;
1311:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (ticks == 0) {
1312:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ticks = 1;
1313:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1314:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
ARM GAS  /tmp/ccr5mNtL.s 			page 76


1315:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1316:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 2505              		.loc 1 1316 0
 2506 001c FFF7FEFF 		bl	inHandlerMode
 2507              	.LVL226:
 2508 0020 10B3     		cbz	r0, .L240
1317:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueReceiveFromISR(queue_id->handle, &event.value.p, &taskWoken) == pdTRUE) {
 2509              		.loc 1 1317 0
 2510 0022 03AA     		add	r2, sp, #12
 2511 0024 01A9     		add	r1, sp, #4
 2512 0026 6868     		ldr	r0, [r5, #4]
 2513 0028 FFF7FEFF 		bl	xQueueReceiveFromISR
 2514              	.LVL227:
 2515 002c 0128     		cmp	r0, #1
 2516 002e 18D0     		beq	.L250
1318:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       /* We have mail */
1319:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = osEventMail;
1320:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1321:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else {
1322:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = osOK;
 2517              		.loc 1 1322 0
 2518 0030 0023     		movs	r3, #0
 2519 0032 0093     		str	r3, [sp]
 2520              	.L242:
1323:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1324:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portEND_SWITCHING_ISR(taskWoken);
 2521              		.loc 1 1324 0
 2522 0034 039B     		ldr	r3, [sp, #12]
 2523 0036 0BB3     		cbz	r3, .L243
 2524              		.loc 1 1324 0 is_stmt 0 discriminator 1
 2525 0038 4FF08052 		mov	r2, #268435456
 2526 003c 154B     		ldr	r3, .L252
 2527 003e 1A60     		str	r2, [r3]
 2528              		.syntax unified
 2529              	@ 1324 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 2530 0040 BFF34F8F 		dsb
 2531              	@ 0 "" 2
 2532              	@ 1324 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 2533 0044 BFF36F8F 		isb
 2534              	@ 0 "" 2
 2535              		.thumb
 2536              		.syntax unified
 2537 0048 18E0     		b	.L243
 2538              	.LVL228:
 2539              	.L249:
1299:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return event;
 2540              		.loc 1 1299 0 is_stmt 1
 2541 004a 04AB     		add	r3, sp, #16
 2542 004c 8022     		movs	r2, #128
 2543              	.LVL229:
 2544 004e 43F8102D 		str	r2, [r3, #-16]!
1300:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 2545              		.loc 1 1300 0
 2546 0052 93E80700 		ldm	r3, {r0, r1, r2}
 2547              	.LVL230:
 2548 0056 84E80700 		stm	r4, {r0, r1, r2}
 2549 005a 13E0     		b	.L236
ARM GAS  /tmp/ccr5mNtL.s 			page 77


 2550              	.LVL231:
 2551              	.L246:
1307:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 2552              		.loc 1 1307 0
 2553 005c 4FF0FF36 		mov	r6, #-1
 2554 0060 DCE7     		b	.L239
 2555              	.LVL232:
 2556              	.L250:
1319:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 2557              		.loc 1 1319 0
 2558 0062 2023     		movs	r3, #32
 2559 0064 0093     		str	r3, [sp]
 2560 0066 E5E7     		b	.L242
 2561              	.L240:
1325:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1326:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
1327:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueReceive(queue_id->handle, &event.value.p, ticks) == pdTRUE) {
 2562              		.loc 1 1327 0
 2563 0068 3246     		mov	r2, r6
 2564 006a 01A9     		add	r1, sp, #4
 2565 006c 6868     		ldr	r0, [r5, #4]
 2566 006e FFF7FEFF 		bl	xQueueReceive
 2567              	.LVL233:
 2568 0072 0128     		cmp	r0, #1
 2569 0074 09D0     		beq	.L251
1328:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       /* We have mail */
1329:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = osEventMail;
1330:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1331:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else {
1332:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = (ticks == 0) ? osOK : osEventTimeout;
 2570              		.loc 1 1332 0
 2571 0076 5EB9     		cbnz	r6, .L247
 2572 0078 0023     		movs	r3, #0
 2573              	.L245:
 2574              		.loc 1 1332 0 is_stmt 0 discriminator 4
 2575 007a 0093     		str	r3, [sp]
 2576              	.L243:
1333:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1334:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1335:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1336:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return event;
 2577              		.loc 1 1336 0 is_stmt 1
 2578 007c 9DE80700 		ldm	sp, {r0, r1, r2}
 2579 0080 84E80700 		stm	r4, {r0, r1, r2}
 2580              	.LVL234:
 2581              	.L236:
1337:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2582              		.loc 1 1337 0
 2583 0084 2046     		mov	r0, r4
 2584 0086 04B0     		add	sp, sp, #16
 2585              	.LCFI71:
 2586              		.cfi_remember_state
 2587              		.cfi_def_cfa_offset 16
 2588              		@ sp needed
 2589 0088 70BD     		pop	{r4, r5, r6, pc}
 2590              	.LVL235:
 2591              	.L251:
ARM GAS  /tmp/ccr5mNtL.s 			page 78


 2592              	.LCFI72:
 2593              		.cfi_restore_state
1329:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 2594              		.loc 1 1329 0
 2595 008a 2023     		movs	r3, #32
 2596 008c 0093     		str	r3, [sp]
 2597 008e F5E7     		b	.L243
 2598              	.L247:
1332:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 2599              		.loc 1 1332 0
 2600 0090 4023     		movs	r3, #64
 2601 0092 F2E7     		b	.L245
 2602              	.L253:
 2603              		.align	2
 2604              	.L252:
 2605 0094 04ED00E0 		.word	-536810236
 2606              		.cfi_endproc
 2607              	.LFE87:
 2609              		.section	.text.osMailFree,"ax",%progbits
 2610              		.align	1
 2611              		.global	osMailFree
 2612              		.syntax unified
 2613              		.thumb
 2614              		.thumb_func
 2615              		.fpu softvfp
 2617              	osMailFree:
 2618              	.LFB88:
1338:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1339:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1340:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Free a memory block from a mail
1341:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id mail queue ID obtained with \ref osMailCreate.
1342:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  mail     pointer to the memory block that was obtained with \ref osMailGet.
1343:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval status code that indicates the execution status of the function.
1344:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMailFree shall be consistent in every CMSIS-RTOS.
1345:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1346:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osMailFree (osMailQId queue_id, void *mail)
1347:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2619              		.loc 1 1347 0
 2620              		.cfi_startproc
 2621              		@ args = 0, pretend = 0, frame = 0
 2622              		@ frame_needed = 0, uses_anonymous_args = 0
 2623              	.LVL236:
1348:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (queue_id == NULL) {
 2624              		.loc 1 1348 0
 2625 0000 20B1     		cbz	r0, .L256
1347:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (queue_id == NULL) {
 2626              		.loc 1 1347 0
 2627 0002 08B5     		push	{r3, lr}
 2628              	.LCFI73:
 2629              		.cfi_def_cfa_offset 8
 2630              		.cfi_offset 3, -8
 2631              		.cfi_offset 14, -4
1349:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
1350:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1351:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1352:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osPoolFree(queue_id->pool, mail);
 2632              		.loc 1 1352 0
ARM GAS  /tmp/ccr5mNtL.s 			page 79


 2633 0004 8068     		ldr	r0, [r0, #8]
 2634              	.LVL237:
 2635 0006 FFF7FEFF 		bl	osPoolFree
 2636              	.LVL238:
 2637 000a 08BD     		pop	{r3, pc}
 2638              	.LVL239:
 2639              	.L256:
 2640              	.LCFI74:
 2641              		.cfi_def_cfa_offset 0
 2642              		.cfi_restore 3
 2643              		.cfi_restore 14
1349:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
 2644              		.loc 1 1349 0
 2645 000c 8020     		movs	r0, #128
 2646              	.LVL240:
 2647 000e 7047     		bx	lr
 2648              		.cfi_endproc
 2649              	.LFE88:
 2651              		.section	.text.osSystickHandler,"ax",%progbits
 2652              		.align	1
 2653              		.global	osSystickHandler
 2654              		.syntax unified
 2655              		.thumb
 2656              		.thumb_func
 2657              		.fpu softvfp
 2659              	osSystickHandler:
 2660              	.LFB89:
1353:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
1354:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif  /* Use Mail Queues */
1355:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1356:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*************************** Additional specific APIs to Free RTOS ************/
1357:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1358:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Handles the tick increment
1359:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  none.
1360:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval none.
1361:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1362:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** void osSystickHandler(void)
1363:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2661              		.loc 1 1363 0
 2662              		.cfi_startproc
 2663              		@ args = 0, pretend = 0, frame = 0
 2664              		@ frame_needed = 0, uses_anonymous_args = 0
 2665 0000 08B5     		push	{r3, lr}
 2666              	.LCFI75:
 2667              		.cfi_def_cfa_offset 8
 2668              		.cfi_offset 3, -8
 2669              		.cfi_offset 14, -4
1364:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1365:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_xTaskGetSchedulerState  == 1 )
1366:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (xTaskGetSchedulerState() != taskSCHEDULER_NOT_STARTED)
 2670              		.loc 1 1366 0
 2671 0002 FFF7FEFF 		bl	xTaskGetSchedulerState
 2672              	.LVL241:
 2673 0006 0128     		cmp	r0, #1
 2674 0008 01D0     		beq	.L261
1367:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1368:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif  /* INCLUDE_xTaskGetSchedulerState */  
ARM GAS  /tmp/ccr5mNtL.s 			page 80


1369:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     xPortSysTickHandler();
 2675              		.loc 1 1369 0
 2676 000a FFF7FEFF 		bl	SysTick_Handler
 2677              	.LVL242:
 2678              	.L261:
 2679 000e 08BD     		pop	{r3, pc}
 2680              		.cfi_endproc
 2681              	.LFE89:
 2683              		.section	.text.osThreadSuspend,"ax",%progbits
 2684              		.align	1
 2685              		.global	osThreadSuspend
 2686              		.syntax unified
 2687              		.thumb
 2688              		.thumb_func
 2689              		.fpu softvfp
 2691              	osThreadSuspend:
 2692              	.LFB90:
1370:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_xTaskGetSchedulerState  == 1 )
1371:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1372:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif  /* INCLUDE_xTaskGetSchedulerState */  
1373:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
1374:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1375:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if ( INCLUDE_eTaskGetState == 1 )
1376:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1377:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Obtain the state of any thread.
1378:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id   thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
1379:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  the stae of the thread, states are encoded by the osThreadState enumerated type.
1380:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1381:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osThreadState osThreadGetState(osThreadId thread_id)
1382:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
1383:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   eTaskState ThreadState;
1384:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osThreadState result;
1385:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1386:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ThreadState = eTaskGetState(thread_id);
1387:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1388:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   switch (ThreadState)
1389:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1390:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   case eRunning :
1391:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osThreadRunning;
1392:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     break;
1393:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   case eReady :
1394:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osThreadReady;
1395:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     break;
1396:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   case eBlocked :
1397:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osThreadBlocked;
1398:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     break;
1399:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   case eSuspended :
1400:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osThreadSuspended;
1401:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     break;
1402:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   case eDeleted :
1403:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osThreadDeleted;
1404:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     break;
1405:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   default:
1406:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osThreadError;
1407:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   } 
1408:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1409:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return result;
ARM GAS  /tmp/ccr5mNtL.s 			page 81


1410:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
1411:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif /* INCLUDE_eTaskGetState */
1412:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1413:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_eTaskGetState == 1)
1414:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1415:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Check if a thread is already suspended or not.
1416:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param thread_id thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
1417:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval status code that indicates the execution status of the function.
1418:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1419:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadIsSuspended(osThreadId thread_id)
1420:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
1421:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (eTaskGetState(thread_id) == eSuspended)
1422:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osOK;
1423:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
1424:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorOS;
1425:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
1426:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif /* INCLUDE_eTaskGetState */
1427:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1428:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Suspend execution of a thread.
1429:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id   thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
1430:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1431:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1432:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadSuspend (osThreadId thread_id)
1433:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2693              		.loc 1 1433 0
 2694              		.cfi_startproc
 2695              		@ args = 0, pretend = 0, frame = 0
 2696              		@ frame_needed = 0, uses_anonymous_args = 0
 2697              	.LVL243:
 2698 0000 08B5     		push	{r3, lr}
 2699              	.LCFI76:
 2700              		.cfi_def_cfa_offset 8
 2701              		.cfi_offset 3, -8
 2702              		.cfi_offset 14, -4
1434:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_vTaskSuspend == 1)
1435:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     vTaskSuspend(thread_id);
 2703              		.loc 1 1435 0
 2704 0002 FFF7FEFF 		bl	vTaskSuspend
 2705              	.LVL244:
1436:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1437:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
1438:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
1439:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osErrorResource;
1440:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1441:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2706              		.loc 1 1441 0
 2707 0006 0020     		movs	r0, #0
 2708 0008 08BD     		pop	{r3, pc}
 2709              		.cfi_endproc
 2710              	.LFE90:
 2712              		.section	.text.osThreadResume,"ax",%progbits
 2713              		.align	1
 2714              		.global	osThreadResume
 2715              		.syntax unified
 2716              		.thumb
 2717              		.thumb_func
 2718              		.fpu softvfp
ARM GAS  /tmp/ccr5mNtL.s 			page 82


 2720              	osThreadResume:
 2721              	.LFB91:
1442:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1443:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1444:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Resume execution of a suspended thread.
1445:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id   thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
1446:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1447:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1448:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadResume (osThreadId thread_id)
1449:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2722              		.loc 1 1449 0
 2723              		.cfi_startproc
 2724              		@ args = 0, pretend = 0, frame = 0
 2725              		@ frame_needed = 0, uses_anonymous_args = 0
 2726              	.LVL245:
 2727 0000 10B5     		push	{r4, lr}
 2728              	.LCFI77:
 2729              		.cfi_def_cfa_offset 8
 2730              		.cfi_offset 4, -8
 2731              		.cfi_offset 14, -4
 2732 0002 0446     		mov	r4, r0
1450:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_vTaskSuspend == 1)  
1451:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if(inHandlerMode())
 2733              		.loc 1 1451 0
 2734 0004 FFF7FEFF 		bl	inHandlerMode
 2735              	.LVL246:
 2736 0008 68B1     		cbz	r0, .L267
1452:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1453:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xTaskResumeFromISR(thread_id) == pdTRUE)
 2737              		.loc 1 1453 0
 2738 000a 2046     		mov	r0, r4
 2739 000c FFF7FEFF 		bl	xTaskResumeFromISR
 2740              	.LVL247:
 2741 0010 0128     		cmp	r0, #1
 2742 0012 0BD1     		bne	.L268
1454:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     {
1455:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       portYIELD_FROM_ISR(pdTRUE);
 2743              		.loc 1 1455 0 discriminator 1
 2744 0014 4FF08052 		mov	r2, #268435456
 2745 0018 054B     		ldr	r3, .L270
 2746 001a 1A60     		str	r2, [r3]
 2747              		.syntax unified
 2748              	@ 1455 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 2749 001c BFF34F8F 		dsb
 2750              	@ 0 "" 2
 2751              	@ 1455 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 2752 0020 BFF36F8F 		isb
 2753              	@ 0 "" 2
 2754              		.thumb
 2755              		.syntax unified
 2756 0024 02E0     		b	.L268
 2757              	.L267:
1456:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1457:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1458:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
1459:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1460:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     vTaskResume(thread_id);
ARM GAS  /tmp/ccr5mNtL.s 			page 83


 2758              		.loc 1 1460 0
 2759 0026 2046     		mov	r0, r4
 2760 0028 FFF7FEFF 		bl	vTaskResume
 2761              	.LVL248:
 2762              	.L268:
1461:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1462:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
1463:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
1464:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osErrorResource;
1465:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1466:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2763              		.loc 1 1466 0
 2764 002c 0020     		movs	r0, #0
 2765 002e 10BD     		pop	{r4, pc}
 2766              	.LVL249:
 2767              	.L271:
 2768              		.align	2
 2769              	.L270:
 2770 0030 04ED00E0 		.word	-536810236
 2771              		.cfi_endproc
 2772              	.LFE91:
 2774              		.section	.text.osThreadSuspendAll,"ax",%progbits
 2775              		.align	1
 2776              		.global	osThreadSuspendAll
 2777              		.syntax unified
 2778              		.thumb
 2779              		.thumb_func
 2780              		.fpu softvfp
 2782              	osThreadSuspendAll:
 2783              	.LFB92:
1467:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1468:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1469:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Suspend execution of a all active threads.
1470:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1471:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1472:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadSuspendAll (void)
1473:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2784              		.loc 1 1473 0
 2785              		.cfi_startproc
 2786              		@ args = 0, pretend = 0, frame = 0
 2787              		@ frame_needed = 0, uses_anonymous_args = 0
 2788 0000 08B5     		push	{r3, lr}
 2789              	.LCFI78:
 2790              		.cfi_def_cfa_offset 8
 2791              		.cfi_offset 3, -8
 2792              		.cfi_offset 14, -4
1474:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vTaskSuspendAll();
 2793              		.loc 1 1474 0
 2794 0002 FFF7FEFF 		bl	vTaskSuspendAll
 2795              	.LVL250:
1475:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1476:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
1477:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2796              		.loc 1 1477 0
 2797 0006 0020     		movs	r0, #0
 2798 0008 08BD     		pop	{r3, pc}
 2799              		.cfi_endproc
ARM GAS  /tmp/ccr5mNtL.s 			page 84


 2800              	.LFE92:
 2802              		.section	.text.osThreadResumeAll,"ax",%progbits
 2803              		.align	1
 2804              		.global	osThreadResumeAll
 2805              		.syntax unified
 2806              		.thumb
 2807              		.thumb_func
 2808              		.fpu softvfp
 2810              	osThreadResumeAll:
 2811              	.LFB93:
1478:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1479:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1480:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Resume execution of a all suspended threads.
1481:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1482:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1483:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadResumeAll (void)
1484:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2812              		.loc 1 1484 0
 2813              		.cfi_startproc
 2814              		@ args = 0, pretend = 0, frame = 0
 2815              		@ frame_needed = 0, uses_anonymous_args = 0
 2816 0000 08B5     		push	{r3, lr}
 2817              	.LCFI79:
 2818              		.cfi_def_cfa_offset 8
 2819              		.cfi_offset 3, -8
 2820              		.cfi_offset 14, -4
1485:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (xTaskResumeAll() == pdTRUE)
 2821              		.loc 1 1485 0
 2822 0002 FFF7FEFF 		bl	xTaskResumeAll
 2823              	.LVL251:
 2824 0006 0128     		cmp	r0, #1
 2825 0008 01D0     		beq	.L278
1486:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osOK;
1487:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
1488:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorOS;
 2826              		.loc 1 1488 0
 2827 000a FF20     		movs	r0, #255
1489:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1490:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2828              		.loc 1 1490 0
 2829 000c 08BD     		pop	{r3, pc}
 2830              	.L278:
1486:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osOK;
 2831              		.loc 1 1486 0
 2832 000e 0020     		movs	r0, #0
 2833 0010 08BD     		pop	{r3, pc}
 2834              		.cfi_endproc
 2835              	.LFE93:
 2837              		.section	.text.osDelayUntil,"ax",%progbits
 2838              		.align	1
 2839              		.global	osDelayUntil
 2840              		.syntax unified
 2841              		.thumb
 2842              		.thumb_func
 2843              		.fpu softvfp
 2845              	osDelayUntil:
 2846              	.LFB94:
ARM GAS  /tmp/ccr5mNtL.s 			page 85


1491:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1492:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1493:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Delay a task until a specified time
1494:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   PreviousWakeTime   Pointer to a variable that holds the time at which the 
1495:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** *          task was last unblocked. PreviousWakeTime must be initialised with the current time
1496:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** *          prior to its first use (PreviousWakeTime = osKernelSysTick() )
1497:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   millisec    time delay value
1498:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1499:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1500:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osDelayUntil (uint32_t *PreviousWakeTime, uint32_t millisec)
1501:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2847              		.loc 1 1501 0
 2848              		.cfi_startproc
 2849              		@ args = 0, pretend = 0, frame = 0
 2850              		@ frame_needed = 0, uses_anonymous_args = 0
 2851              		@ link register save eliminated.
 2852              	.LVL252:
1502:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if INCLUDE_vTaskDelayUntil
1503:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks = (millisec / portTICK_PERIOD_MS);
1504:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vTaskDelayUntil((TickType_t *) PreviousWakeTime, ticks ? ticks : 1);
1505:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1506:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
1507:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
1508:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) millisec;
1509:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) PreviousWakeTime;
1510:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1511:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osErrorResource;
1512:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1513:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2853              		.loc 1 1513 0
 2854 0000 8120     		movs	r0, #129
 2855              	.LVL253:
 2856 0002 7047     		bx	lr
 2857              		.cfi_endproc
 2858              	.LFE94:
 2860              		.section	.text.osAbortDelay,"ax",%progbits
 2861              		.align	1
 2862              		.global	osAbortDelay
 2863              		.syntax unified
 2864              		.thumb
 2865              		.thumb_func
 2866              		.fpu softvfp
 2868              	osAbortDelay:
 2869              	.LFB95:
1514:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1515:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1516:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief   Abort the delay for a specific thread
1517:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id   thread ID obtained by \ref osThreadCreate or \ref osThreadGetId   
1518:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1519:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1520:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osAbortDelay(osThreadId thread_id)
1521:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2870              		.loc 1 1521 0
 2871              		.cfi_startproc
 2872              		@ args = 0, pretend = 0, frame = 0
 2873              		@ frame_needed = 0, uses_anonymous_args = 0
 2874              		@ link register save eliminated.
ARM GAS  /tmp/ccr5mNtL.s 			page 86


 2875              	.LVL254:
1522:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if INCLUDE_xTaskAbortDelay
1523:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1524:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   xTaskAbortDelay(thread_id);
1525:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1526:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
1527:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
1528:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) thread_id;
1529:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1530:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osErrorResource;
1531:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1532:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2876              		.loc 1 1532 0
 2877 0000 8120     		movs	r0, #129
 2878              	.LVL255:
 2879 0002 7047     		bx	lr
 2880              		.cfi_endproc
 2881              	.LFE95:
 2883              		.section	.text.osThreadList,"ax",%progbits
 2884              		.align	1
 2885              		.global	osThreadList
 2886              		.syntax unified
 2887              		.thumb
 2888              		.thumb_func
 2889              		.fpu softvfp
 2891              	osThreadList:
 2892              	.LFB96:
1533:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1534:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1535:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief   Lists all the current threads, along with their current state 
1536:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** *          and stack usage high water mark.
1537:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   buffer   A buffer into which the above mentioned details
1538:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** *          will be written
1539:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1540:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1541:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadList (uint8_t *buffer)
1542:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2893              		.loc 1 1542 0
 2894              		.cfi_startproc
 2895              		@ args = 0, pretend = 0, frame = 0
 2896              		@ frame_needed = 0, uses_anonymous_args = 0
 2897              		@ link register save eliminated.
 2898              	.LVL256:
1543:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if ( ( configUSE_TRACE_FACILITY == 1 ) && ( configUSE_STATS_FORMATTING_FUNCTIONS == 1 ) )
1544:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vTaskList((char *)buffer);
1545:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1546:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
1547:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2899              		.loc 1 1547 0
 2900 0000 0020     		movs	r0, #0
 2901              	.LVL257:
 2902 0002 7047     		bx	lr
 2903              		.cfi_endproc
 2904              	.LFE96:
 2906              		.section	.text.osMessagePeek,"ax",%progbits
 2907              		.align	1
 2908              		.global	osMessagePeek
ARM GAS  /tmp/ccr5mNtL.s 			page 87


 2909              		.syntax unified
 2910              		.thumb
 2911              		.thumb_func
 2912              		.fpu softvfp
 2914              	osMessagePeek:
 2915              	.LFB97:
1548:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1549:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1550:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Receive an item from a queue without removing the item from the queue.
1551:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id  message queue ID obtained with \ref osMessageCreate.
1552:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec  timeout value or 0 in case of no time-out.
1553:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval event information that includes status code.
1554:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1555:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osEvent osMessagePeek (osMessageQId queue_id, uint32_t millisec)
1556:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2916              		.loc 1 1556 0
 2917              		.cfi_startproc
 2918              		@ args = 0, pretend = 0, frame = 16
 2919              		@ frame_needed = 0, uses_anonymous_args = 0
 2920              	.LVL258:
 2921 0000 30B5     		push	{r4, r5, lr}
 2922              	.LCFI80:
 2923              		.cfi_def_cfa_offset 12
 2924              		.cfi_offset 4, -12
 2925              		.cfi_offset 5, -8
 2926              		.cfi_offset 14, -4
 2927 0002 85B0     		sub	sp, sp, #20
 2928              	.LCFI81:
 2929              		.cfi_def_cfa_offset 32
 2930 0004 0446     		mov	r4, r0
1557:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
1558:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osEvent event;
1559:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1560:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   event.def.message_id = queue_id;
 2931              		.loc 1 1560 0
 2932 0006 0391     		str	r1, [sp, #12]
1561:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1562:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (queue_id == NULL) {
 2933              		.loc 1 1562 0
 2934 0008 A9B1     		cbz	r1, .L292
 2935 000a 0846     		mov	r0, r1
 2936              	.LVL259:
 2937 000c 1546     		mov	r5, r2
 2938              	.LVL260:
1563:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     event.status = osErrorParameter;
1564:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return event;
1565:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1566:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1567:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = 0;
1568:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) {
 2939              		.loc 1 1568 0
 2940 000e B2F1FF3F 		cmp	r2, #-1
 2941 0012 19D0     		beq	.L293
 2942              	.L285:
 2943              	.LVL261:
1569:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = portMAX_DELAY;
1570:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
ARM GAS  /tmp/ccr5mNtL.s 			page 88


1571:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (millisec != 0) {
1572:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = millisec / portTICK_PERIOD_MS;
1573:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (ticks == 0) {
1574:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ticks = 1;
1575:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1576:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1577:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1578:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (xQueuePeek(queue_id, &event.value.v, ticks) == pdTRUE) 
 2944              		.loc 1 1578 0
 2945 0014 2A46     		mov	r2, r5
 2946              	.LVL262:
 2947 0016 02A9     		add	r1, sp, #8
 2948              	.LVL263:
 2949 0018 FFF7FEFF 		bl	xQueuePeek
 2950              	.LVL264:
 2951 001c 0128     		cmp	r0, #1
 2952 001e 16D0     		beq	.L294
1579:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1580:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     /* We have mail */
1581:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     event.status = osEventMessage;
1582:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1583:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else 
1584:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1585:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     event.status = (ticks == 0) ? osOK : osEventTimeout;
 2953              		.loc 1 1585 0
 2954 0020 C5B9     		cbnz	r5, .L290
 2955 0022 0023     		movs	r3, #0
 2956              	.L288:
 2957              		.loc 1 1585 0 is_stmt 0 discriminator 4
 2958 0024 0193     		str	r3, [sp, #4]
 2959              	.L287:
1586:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1587:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1588:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return event;
 2960              		.loc 1 1588 0 is_stmt 1
 2961 0026 04AB     		add	r3, sp, #16
 2962 0028 13E90700 		ldmdb	r3, {r0, r1, r2}
 2963 002c 84E80700 		stm	r4, {r0, r1, r2}
 2964              	.LVL265:
 2965              	.L282:
1589:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2966              		.loc 1 1589 0
 2967 0030 2046     		mov	r0, r4
 2968 0032 05B0     		add	sp, sp, #20
 2969              	.LCFI82:
 2970              		.cfi_remember_state
 2971              		.cfi_def_cfa_offset 12
 2972              		@ sp needed
 2973 0034 30BD     		pop	{r4, r5, pc}
 2974              	.LVL266:
 2975              	.L292:
 2976              	.LCFI83:
 2977              		.cfi_restore_state
1563:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return event;
 2978              		.loc 1 1563 0
 2979 0036 04AB     		add	r3, sp, #16
 2980 0038 8022     		movs	r2, #128
ARM GAS  /tmp/ccr5mNtL.s 			page 89


 2981              	.LVL267:
 2982 003a 43F80C2D 		str	r2, [r3, #-12]!
1564:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 2983              		.loc 1 1564 0
 2984 003e 93E80700 		ldm	r3, {r0, r1, r2}
 2985              	.LVL268:
 2986 0042 84E80700 		stm	r4, {r0, r1, r2}
 2987 0046 F3E7     		b	.L282
 2988              	.LVL269:
 2989              	.L293:
1569:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 2990              		.loc 1 1569 0
 2991 0048 4FF0FF35 		mov	r5, #-1
 2992 004c E2E7     		b	.L285
 2993              	.LVL270:
 2994              	.L294:
1581:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 2995              		.loc 1 1581 0
 2996 004e 1023     		movs	r3, #16
 2997 0050 0193     		str	r3, [sp, #4]
 2998 0052 E8E7     		b	.L287
 2999              	.L290:
1585:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 3000              		.loc 1 1585 0
 3001 0054 4023     		movs	r3, #64
 3002 0056 E5E7     		b	.L288
 3003              		.cfi_endproc
 3004              	.LFE97:
 3006              		.section	.text.osMessageWaiting,"ax",%progbits
 3007              		.align	1
 3008              		.global	osMessageWaiting
 3009              		.syntax unified
 3010              		.thumb
 3011              		.thumb_func
 3012              		.fpu softvfp
 3014              	osMessageWaiting:
 3015              	.LFB98:
1590:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1591:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1592:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Get the number of messaged stored in a queue.
1593:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id  message queue ID obtained with \ref osMessageCreate.
1594:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval number of messages stored in a queue.
1595:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1596:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** uint32_t osMessageWaiting(osMessageQId queue_id)
1597:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3016              		.loc 1 1597 0
 3017              		.cfi_startproc
 3018              		@ args = 0, pretend = 0, frame = 0
 3019              		@ frame_needed = 0, uses_anonymous_args = 0
 3020              	.LVL271:
 3021 0000 10B5     		push	{r4, lr}
 3022              	.LCFI84:
 3023              		.cfi_def_cfa_offset 8
 3024              		.cfi_offset 4, -8
 3025              		.cfi_offset 14, -4
 3026 0002 0446     		mov	r4, r0
1598:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
ARM GAS  /tmp/ccr5mNtL.s 			page 90


 3027              		.loc 1 1598 0
 3028 0004 FFF7FEFF 		bl	inHandlerMode
 3029              	.LVL272:
 3030 0008 18B9     		cbnz	r0, .L299
1599:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return uxQueueMessagesWaitingFromISR(queue_id);
1600:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1601:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
1602:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1603:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return uxQueueMessagesWaiting(queue_id);
 3031              		.loc 1 1603 0
 3032 000a 2046     		mov	r0, r4
 3033 000c FFF7FEFF 		bl	uxQueueMessagesWaiting
 3034              	.LVL273:
1604:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1605:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3035              		.loc 1 1605 0
 3036 0010 10BD     		pop	{r4, pc}
 3037              	.LVL274:
 3038              	.L299:
1599:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return uxQueueMessagesWaitingFromISR(queue_id);
 3039              		.loc 1 1599 0
 3040 0012 2046     		mov	r0, r4
 3041 0014 FFF7FEFF 		bl	uxQueueMessagesWaitingFromISR
 3042              	.LVL275:
 3043 0018 10BD     		pop	{r4, pc}
 3044              		.cfi_endproc
 3045              	.LFE98:
 3047              		.section	.text.osMessageAvailableSpace,"ax",%progbits
 3048              		.align	1
 3049              		.global	osMessageAvailableSpace
 3050              		.syntax unified
 3051              		.thumb
 3052              		.thumb_func
 3053              		.fpu softvfp
 3055              	osMessageAvailableSpace:
 3056              	.LFB99:
1606:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1607:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1608:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Get the available space in a message queue.
1609:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id  message queue ID obtained with \ref osMessageCreate.
1610:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval available space in a message queue.
1611:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1612:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** uint32_t osMessageAvailableSpace(osMessageQId queue_id)  
1613:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3057              		.loc 1 1613 0
 3058              		.cfi_startproc
 3059              		@ args = 0, pretend = 0, frame = 0
 3060              		@ frame_needed = 0, uses_anonymous_args = 0
 3061              	.LVL276:
 3062 0000 08B5     		push	{r3, lr}
 3063              	.LCFI85:
 3064              		.cfi_def_cfa_offset 8
 3065              		.cfi_offset 3, -8
 3066              		.cfi_offset 14, -4
1614:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return uxQueueSpacesAvailable(queue_id);
 3067              		.loc 1 1614 0
 3068 0002 FFF7FEFF 		bl	uxQueueSpacesAvailable
ARM GAS  /tmp/ccr5mNtL.s 			page 91


 3069              	.LVL277:
1615:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3070              		.loc 1 1615 0
 3071 0006 08BD     		pop	{r3, pc}
 3072              		.cfi_endproc
 3073              	.LFE99:
 3075              		.section	.text.osMessageDelete,"ax",%progbits
 3076              		.align	1
 3077              		.global	osMessageDelete
 3078              		.syntax unified
 3079              		.thumb
 3080              		.thumb_func
 3081              		.fpu softvfp
 3083              	osMessageDelete:
 3084              	.LFB100:
1616:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1617:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1618:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Delete a Message Queue
1619:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id  message queue ID obtained with \ref osMessageCreate.
1620:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1621:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1622:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osMessageDelete (osMessageQId queue_id)
1623:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3085              		.loc 1 1623 0
 3086              		.cfi_startproc
 3087              		@ args = 0, pretend = 0, frame = 0
 3088              		@ frame_needed = 0, uses_anonymous_args = 0
 3089              	.LVL278:
 3090 0000 10B5     		push	{r4, lr}
 3091              	.LCFI86:
 3092              		.cfi_def_cfa_offset 8
 3093              		.cfi_offset 4, -8
 3094              		.cfi_offset 14, -4
 3095 0002 0446     		mov	r4, r0
1624:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 3096              		.loc 1 1624 0
 3097 0004 FFF7FEFF 		bl	inHandlerMode
 3098              	.LVL279:
 3099 0008 08B1     		cbz	r0, .L306
1625:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorISR;
 3100              		.loc 1 1625 0
 3101 000a 8220     		movs	r0, #130
1626:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1627:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1628:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vQueueDelete(queue_id);
1629:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1630:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK; 
1631:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3102              		.loc 1 1631 0
 3103 000c 10BD     		pop	{r4, pc}
 3104              	.LVL280:
 3105              	.L306:
1628:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 3106              		.loc 1 1628 0
 3107 000e 2046     		mov	r0, r4
 3108 0010 FFF7FEFF 		bl	vQueueDelete
 3109              	.LVL281:
ARM GAS  /tmp/ccr5mNtL.s 			page 92


1630:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3110              		.loc 1 1630 0
 3111 0014 0020     		movs	r0, #0
 3112 0016 10BD     		pop	{r4, pc}
 3113              		.cfi_endproc
 3114              	.LFE100:
 3116              		.section	.text.osRecursiveMutexCreate,"ax",%progbits
 3117              		.align	1
 3118              		.global	osRecursiveMutexCreate
 3119              		.syntax unified
 3120              		.thumb
 3121              		.thumb_func
 3122              		.fpu softvfp
 3124              	osRecursiveMutexCreate:
 3125              	.LFB101:
1632:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1633:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1634:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Create and Initialize a Recursive Mutex
1635:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  mutex_def     mutex definition referenced with \ref osMutex.
1636:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  mutex ID for reference by other functions or NULL in case of error..
1637:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1638:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osMutexId osRecursiveMutexCreate (const osMutexDef_t *mutex_def)
1639:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3126              		.loc 1 1639 0
 3127              		.cfi_startproc
 3128              		@ args = 0, pretend = 0, frame = 0
 3129              		@ frame_needed = 0, uses_anonymous_args = 0
 3130              		@ link register save eliminated.
 3131              	.LVL282:
1640:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_RECURSIVE_MUTEXES == 1)
1641:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( configSUPPORT_STATIC_ALLOCATION == 1 ) && ( configSUPPORT_DYNAMIC_ALLOCATION == 1 )
1642:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1643:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (mutex_def->controlblock != NULL){
1644:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xSemaphoreCreateRecursiveMutexStatic( mutex_def->controlblock );
1645:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1646:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
1647:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xSemaphoreCreateRecursiveMutex();
1648:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1649:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif ( configSUPPORT_STATIC_ALLOCATION == 1 )
1650:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xSemaphoreCreateRecursiveMutexStatic( mutex_def->controlblock );
1651:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else 
1652:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xSemaphoreCreateRecursiveMutex();
1653:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1654:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
1655:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return NULL;
1656:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif	
1657:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3132              		.loc 1 1657 0
 3133 0000 0020     		movs	r0, #0
 3134              	.LVL283:
 3135 0002 7047     		bx	lr
 3136              		.cfi_endproc
 3137              	.LFE101:
 3139              		.section	.text.osRecursiveMutexRelease,"ax",%progbits
 3140              		.align	1
 3141              		.global	osRecursiveMutexRelease
 3142              		.syntax unified
ARM GAS  /tmp/ccr5mNtL.s 			page 93


 3143              		.thumb
 3144              		.thumb_func
 3145              		.fpu softvfp
 3147              	osRecursiveMutexRelease:
 3148              	.LFB102:
1658:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1659:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1660:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Release a Recursive Mutex
1661:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   mutex_id      mutex ID obtained by \ref osRecursiveMutexCreate.
1662:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1663:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1664:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osRecursiveMutexRelease (osMutexId mutex_id)
1665:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3149              		.loc 1 1665 0
 3150              		.cfi_startproc
 3151              		@ args = 0, pretend = 0, frame = 0
 3152              		@ frame_needed = 0, uses_anonymous_args = 0
 3153              		@ link register save eliminated.
 3154              	.LVL284:
1666:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_RECURSIVE_MUTEXES == 1)
1667:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osStatus result = osOK;
1668:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  
1669:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (xSemaphoreGiveRecursive(mutex_id) != pdTRUE) 
1670:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1671:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osErrorOS;
1672:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1673:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return result;
1674:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
1675:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	return osErrorResource;
1676:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1677:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3155              		.loc 1 1677 0
 3156 0000 8120     		movs	r0, #129
 3157              	.LVL285:
 3158 0002 7047     		bx	lr
 3159              		.cfi_endproc
 3160              	.LFE102:
 3162              		.section	.text.osRecursiveMutexWait,"ax",%progbits
 3163              		.align	1
 3164              		.global	osRecursiveMutexWait
 3165              		.syntax unified
 3166              		.thumb
 3167              		.thumb_func
 3168              		.fpu softvfp
 3170              	osRecursiveMutexWait:
 3171              	.LFB103:
1678:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1679:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1680:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Release a Recursive Mutex
1681:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   mutex_id    mutex ID obtained by \ref osRecursiveMutexCreate.
1682:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param millisec      timeout value or 0 in case of no time-out.
1683:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1684:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1685:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osRecursiveMutexWait (osMutexId mutex_id, uint32_t millisec)
1686:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3172              		.loc 1 1686 0
 3173              		.cfi_startproc
ARM GAS  /tmp/ccr5mNtL.s 			page 94


 3174              		@ args = 0, pretend = 0, frame = 0
 3175              		@ frame_needed = 0, uses_anonymous_args = 0
 3176              		@ link register save eliminated.
 3177              	.LVL286:
1687:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_RECURSIVE_MUTEXES == 1)
1688:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
1689:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1690:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (mutex_id == NULL)
1691:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1692:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
1693:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1694:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1695:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = 0;
1696:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) 
1697:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1698:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = portMAX_DELAY;
1699:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1700:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (millisec != 0) 
1701:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1702:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = millisec / portTICK_PERIOD_MS;
1703:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (ticks == 0) 
1704:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     {
1705:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ticks = 1;
1706:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1707:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1708:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1709:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (xSemaphoreTakeRecursive(mutex_id, ticks) != pdTRUE) 
1710:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1711:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorOS;
1712:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1713:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
1714:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
1715:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	return osErrorResource;
1716:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1717:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3178              		.loc 1 1717 0
 3179 0000 8120     		movs	r0, #129
 3180              	.LVL287:
 3181 0002 7047     		bx	lr
 3182              		.cfi_endproc
 3183              	.LFE103:
 3185              		.section	.text.osSemaphoreGetCount,"ax",%progbits
 3186              		.align	1
 3187              		.global	osSemaphoreGetCount
 3188              		.syntax unified
 3189              		.thumb
 3190              		.thumb_func
 3191              		.fpu softvfp
 3193              	osSemaphoreGetCount:
 3194              	.LFB104:
1718:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1719:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1720:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Returns the current count value of a counting semaphore
1721:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  semaphore_id  semaphore_id ID obtained by \ref osSemaphoreCreate.
1722:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  count value
1723:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1724:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** uint32_t osSemaphoreGetCount(osSemaphoreId semaphore_id)
ARM GAS  /tmp/ccr5mNtL.s 			page 95


1725:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3195              		.loc 1 1725 0
 3196              		.cfi_startproc
 3197              		@ args = 0, pretend = 0, frame = 0
 3198              		@ frame_needed = 0, uses_anonymous_args = 0
 3199              	.LVL288:
 3200 0000 08B5     		push	{r3, lr}
 3201              	.LCFI87:
 3202              		.cfi_def_cfa_offset 8
 3203              		.cfi_offset 3, -8
 3204              		.cfi_offset 14, -4
1726:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return uxSemaphoreGetCount(semaphore_id);
 3205              		.loc 1 1726 0
 3206 0002 FFF7FEFF 		bl	uxQueueMessagesWaiting
 3207              	.LVL289:
1727:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3208              		.loc 1 1727 0
 3209 0006 08BD     		pop	{r3, pc}
 3210              		.cfi_endproc
 3211              	.LFE104:
 3213              		.text
 3214              	.Letext0:
 3215              		.file 4 "/usr/include/newlib/machine/_default_types.h"
 3216              		.file 5 "/usr/include/newlib/sys/lock.h"
 3217              		.file 6 "/usr/include/newlib/sys/_types.h"
 3218              		.file 7 "/usr/lib/gcc/arm-none-eabi/6.3.1/include/stddef.h"
 3219              		.file 8 "/usr/include/newlib/sys/reent.h"
 3220              		.file 9 "/usr/include/newlib/sys/_stdint.h"
 3221              		.file 10 "Core/Inc/FreeRTOSConfig.h"
 3222              		.file 11 "Middlewares/Third_Party/FreeRTOS/Source/include/projdefs.h"
 3223              		.file 12 "Middlewares/Third_Party/FreeRTOS/Source/include/FreeRTOS.h"
 3224              		.file 13 "Middlewares/Third_Party/FreeRTOS/Source/include/task.h"
 3225              		.file 14 "Middlewares/Third_Party/FreeRTOS/Source/include/timers.h"
 3226              		.file 15 "Middlewares/Third_Party/FreeRTOS/Source/include/queue.h"
 3227              		.file 16 "Middlewares/Third_Party/FreeRTOS/Source/include/semphr.h"
 3228              		.file 17 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.h"
 3229              		.file 18 "Middlewares/Third_Party/FreeRTOS/Source/include/portable.h"
ARM GAS  /tmp/ccr5mNtL.s 			page 96


DEFINED SYMBOLS
                            *ABS*:0000000000000000 cmsis_os.c
     /tmp/ccr5mNtL.s:16     .text.makeFreeRtosPriority:0000000000000000 $t
     /tmp/ccr5mNtL.s:22     .text.makeFreeRtosPriority:0000000000000000 makeFreeRtosPriority
     /tmp/ccr5mNtL.s:49     .text.makeCmsisPriority:0000000000000000 $t
     /tmp/ccr5mNtL.s:55     .text.makeCmsisPriority:0000000000000000 makeCmsisPriority
     /tmp/ccr5mNtL.s:83     .text.inHandlerMode:0000000000000000 $t
     /tmp/ccr5mNtL.s:89     .text.inHandlerMode:0000000000000000 inHandlerMode
     /tmp/ccr5mNtL.s:117    .text.osKernelStart:0000000000000000 $t
     /tmp/ccr5mNtL.s:124    .text.osKernelStart:0000000000000000 osKernelStart
     /tmp/ccr5mNtL.s:145    .text.osKernelRunning:0000000000000000 $t
     /tmp/ccr5mNtL.s:152    .text.osKernelRunning:0000000000000000 osKernelRunning
     /tmp/ccr5mNtL.s:180    .text.osKernelSysTick:0000000000000000 $t
     /tmp/ccr5mNtL.s:187    .text.osKernelSysTick:0000000000000000 osKernelSysTick
     /tmp/ccr5mNtL.s:216    .text.osThreadCreate:0000000000000000 $t
     /tmp/ccr5mNtL.s:223    .text.osThreadCreate:0000000000000000 osThreadCreate
     /tmp/ccr5mNtL.s:311    .text.osThreadGetId:0000000000000000 $t
     /tmp/ccr5mNtL.s:318    .text.osThreadGetId:0000000000000000 osThreadGetId
     /tmp/ccr5mNtL.s:338    .text.osThreadTerminate:0000000000000000 $t
     /tmp/ccr5mNtL.s:345    .text.osThreadTerminate:0000000000000000 osThreadTerminate
     /tmp/ccr5mNtL.s:367    .text.osThreadYield:0000000000000000 $t
     /tmp/ccr5mNtL.s:374    .text.osThreadYield:0000000000000000 osThreadYield
     /tmp/ccr5mNtL.s:400    .text.osThreadYield:0000000000000014 $d
     /tmp/ccr5mNtL.s:405    .text.osThreadSetPriority:0000000000000000 $t
     /tmp/ccr5mNtL.s:412    .text.osThreadSetPriority:0000000000000000 osThreadSetPriority
     /tmp/ccr5mNtL.s:441    .text.osThreadGetPriority:0000000000000000 $t
     /tmp/ccr5mNtL.s:448    .text.osThreadGetPriority:0000000000000000 osThreadGetPriority
     /tmp/ccr5mNtL.s:486    .text.osDelay:0000000000000000 $t
     /tmp/ccr5mNtL.s:493    .text.osDelay:0000000000000000 osDelay
     /tmp/ccr5mNtL.s:523    .text.osTimerCreate:0000000000000000 $t
     /tmp/ccr5mNtL.s:530    .text.osTimerCreate:0000000000000000 osTimerCreate
     /tmp/ccr5mNtL.s:546    .text.osTimerStart:0000000000000000 $t
     /tmp/ccr5mNtL.s:553    .text.osTimerStart:0000000000000000 osTimerStart
     /tmp/ccr5mNtL.s:569    .text.osTimerStop:0000000000000000 $t
     /tmp/ccr5mNtL.s:576    .text.osTimerStop:0000000000000000 osTimerStop
     /tmp/ccr5mNtL.s:592    .text.osTimerDelete:0000000000000000 $t
     /tmp/ccr5mNtL.s:599    .text.osTimerDelete:0000000000000000 osTimerDelete
     /tmp/ccr5mNtL.s:615    .text.osSignalSet:0000000000000000 $t
     /tmp/ccr5mNtL.s:622    .text.osSignalSet:0000000000000000 osSignalSet
     /tmp/ccr5mNtL.s:712    .text.osSignalSet:0000000000000060 $d
     /tmp/ccr5mNtL.s:717    .text.osSignalWait:0000000000000000 $t
     /tmp/ccr5mNtL.s:724    .text.osSignalWait:0000000000000000 osSignalWait
     /tmp/ccr5mNtL.s:824    .text.osMutexCreate:0000000000000000 $t
     /tmp/ccr5mNtL.s:831    .text.osMutexCreate:0000000000000000 osMutexCreate
     /tmp/ccr5mNtL.s:865    .text.osMutexWait:0000000000000000 $t
     /tmp/ccr5mNtL.s:872    .text.osMutexWait:0000000000000000 osMutexWait
     /tmp/ccr5mNtL.s:984    .text.osMutexWait:000000000000006c $d
     /tmp/ccr5mNtL.s:989    .text.osMutexRelease:0000000000000000 $t
     /tmp/ccr5mNtL.s:996    .text.osMutexRelease:0000000000000000 osMutexRelease
     /tmp/ccr5mNtL.s:1083   .text.osMutexRelease:0000000000000058 $d
     /tmp/ccr5mNtL.s:1088   .text.osMutexDelete:0000000000000000 $t
     /tmp/ccr5mNtL.s:1095   .text.osMutexDelete:0000000000000000 osMutexDelete
     /tmp/ccr5mNtL.s:1129   .text.osSemaphoreCreate:0000000000000000 $t
     /tmp/ccr5mNtL.s:1136   .text.osSemaphoreCreate:0000000000000000 osSemaphoreCreate
     /tmp/ccr5mNtL.s:1215   .text.osSemaphoreWait:0000000000000000 $t
     /tmp/ccr5mNtL.s:1222   .text.osSemaphoreWait:0000000000000000 osSemaphoreWait
     /tmp/ccr5mNtL.s:1334   .text.osSemaphoreWait:000000000000006c $d
ARM GAS  /tmp/ccr5mNtL.s 			page 97


     /tmp/ccr5mNtL.s:1339   .text.osSemaphoreRelease:0000000000000000 $t
     /tmp/ccr5mNtL.s:1346   .text.osSemaphoreRelease:0000000000000000 osSemaphoreRelease
     /tmp/ccr5mNtL.s:1433   .text.osSemaphoreRelease:0000000000000058 $d
     /tmp/ccr5mNtL.s:1438   .text.osSemaphoreDelete:0000000000000000 $t
     /tmp/ccr5mNtL.s:1445   .text.osSemaphoreDelete:0000000000000000 osSemaphoreDelete
     /tmp/ccr5mNtL.s:1479   .text.osPoolCreate:0000000000000000 $t
     /tmp/ccr5mNtL.s:1486   .text.osPoolCreate:0000000000000000 osPoolCreate
     /tmp/ccr5mNtL.s:1588   .text.osPoolAlloc:0000000000000000 $t
     /tmp/ccr5mNtL.s:1595   .text.osPoolAlloc:0000000000000000 osPoolAlloc
     /tmp/ccr5mNtL.s:1716   .text.osPoolCAlloc:0000000000000000 $t
     /tmp/ccr5mNtL.s:1723   .text.osPoolCAlloc:0000000000000000 osPoolCAlloc
     /tmp/ccr5mNtL.s:1753   .text.osPoolFree:0000000000000000 $t
     /tmp/ccr5mNtL.s:1760   .text.osPoolFree:0000000000000000 osPoolFree
     /tmp/ccr5mNtL.s:1831   .text.osMessageCreate:0000000000000000 $t
     /tmp/ccr5mNtL.s:1838   .text.osMessageCreate:0000000000000000 osMessageCreate
     /tmp/ccr5mNtL.s:1893   .text.osMessagePut:0000000000000000 $t
     /tmp/ccr5mNtL.s:1900   .text.osMessagePut:0000000000000000 osMessagePut
     /tmp/ccr5mNtL.s:1998   .text.osMessagePut:0000000000000064 $d
     /tmp/ccr5mNtL.s:2003   .text.osMessageGet:0000000000000000 $t
     /tmp/ccr5mNtL.s:2010   .text.osMessageGet:0000000000000000 osMessageGet
     /tmp/ccr5mNtL.s:2150   .text.osMessageGet:0000000000000098 $d
     /tmp/ccr5mNtL.s:2155   .text.osMailCreate:0000000000000000 $t
     /tmp/ccr5mNtL.s:2162   .text.osMailCreate:0000000000000000 osMailCreate
     /tmp/ccr5mNtL.s:2257   .text.osMailAlloc:0000000000000000 $t
     /tmp/ccr5mNtL.s:2264   .text.osMailAlloc:0000000000000000 osMailAlloc
     /tmp/ccr5mNtL.s:2300   .text.osMailCAlloc:0000000000000000 $t
     /tmp/ccr5mNtL.s:2307   .text.osMailCAlloc:0000000000000000 osMailCAlloc
     /tmp/ccr5mNtL.s:2352   .text.osMailPut:0000000000000000 $t
     /tmp/ccr5mNtL.s:2359   .text.osMailPut:0000000000000000 osMailPut
     /tmp/ccr5mNtL.s:2456   .text.osMailPut:0000000000000064 $d
     /tmp/ccr5mNtL.s:2461   .text.osMailGet:0000000000000000 $t
     /tmp/ccr5mNtL.s:2468   .text.osMailGet:0000000000000000 osMailGet
     /tmp/ccr5mNtL.s:2605   .text.osMailGet:0000000000000094 $d
     /tmp/ccr5mNtL.s:2610   .text.osMailFree:0000000000000000 $t
     /tmp/ccr5mNtL.s:2617   .text.osMailFree:0000000000000000 osMailFree
     /tmp/ccr5mNtL.s:2652   .text.osSystickHandler:0000000000000000 $t
     /tmp/ccr5mNtL.s:2659   .text.osSystickHandler:0000000000000000 osSystickHandler
     /tmp/ccr5mNtL.s:2684   .text.osThreadSuspend:0000000000000000 $t
     /tmp/ccr5mNtL.s:2691   .text.osThreadSuspend:0000000000000000 osThreadSuspend
     /tmp/ccr5mNtL.s:2713   .text.osThreadResume:0000000000000000 $t
     /tmp/ccr5mNtL.s:2720   .text.osThreadResume:0000000000000000 osThreadResume
     /tmp/ccr5mNtL.s:2770   .text.osThreadResume:0000000000000030 $d
     /tmp/ccr5mNtL.s:2775   .text.osThreadSuspendAll:0000000000000000 $t
     /tmp/ccr5mNtL.s:2782   .text.osThreadSuspendAll:0000000000000000 osThreadSuspendAll
     /tmp/ccr5mNtL.s:2803   .text.osThreadResumeAll:0000000000000000 $t
     /tmp/ccr5mNtL.s:2810   .text.osThreadResumeAll:0000000000000000 osThreadResumeAll
     /tmp/ccr5mNtL.s:2838   .text.osDelayUntil:0000000000000000 $t
     /tmp/ccr5mNtL.s:2845   .text.osDelayUntil:0000000000000000 osDelayUntil
     /tmp/ccr5mNtL.s:2861   .text.osAbortDelay:0000000000000000 $t
     /tmp/ccr5mNtL.s:2868   .text.osAbortDelay:0000000000000000 osAbortDelay
     /tmp/ccr5mNtL.s:2884   .text.osThreadList:0000000000000000 $t
     /tmp/ccr5mNtL.s:2891   .text.osThreadList:0000000000000000 osThreadList
     /tmp/ccr5mNtL.s:2907   .text.osMessagePeek:0000000000000000 $t
     /tmp/ccr5mNtL.s:2914   .text.osMessagePeek:0000000000000000 osMessagePeek
     /tmp/ccr5mNtL.s:3007   .text.osMessageWaiting:0000000000000000 $t
     /tmp/ccr5mNtL.s:3014   .text.osMessageWaiting:0000000000000000 osMessageWaiting
     /tmp/ccr5mNtL.s:3048   .text.osMessageAvailableSpace:0000000000000000 $t
ARM GAS  /tmp/ccr5mNtL.s 			page 98


     /tmp/ccr5mNtL.s:3055   .text.osMessageAvailableSpace:0000000000000000 osMessageAvailableSpace
     /tmp/ccr5mNtL.s:3076   .text.osMessageDelete:0000000000000000 $t
     /tmp/ccr5mNtL.s:3083   .text.osMessageDelete:0000000000000000 osMessageDelete
     /tmp/ccr5mNtL.s:3117   .text.osRecursiveMutexCreate:0000000000000000 $t
     /tmp/ccr5mNtL.s:3124   .text.osRecursiveMutexCreate:0000000000000000 osRecursiveMutexCreate
     /tmp/ccr5mNtL.s:3140   .text.osRecursiveMutexRelease:0000000000000000 $t
     /tmp/ccr5mNtL.s:3147   .text.osRecursiveMutexRelease:0000000000000000 osRecursiveMutexRelease
     /tmp/ccr5mNtL.s:3163   .text.osRecursiveMutexWait:0000000000000000 $t
     /tmp/ccr5mNtL.s:3170   .text.osRecursiveMutexWait:0000000000000000 osRecursiveMutexWait
     /tmp/ccr5mNtL.s:3186   .text.osSemaphoreGetCount:0000000000000000 $t
     /tmp/ccr5mNtL.s:3193   .text.osSemaphoreGetCount:0000000000000000 osSemaphoreGetCount
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
vTaskStartScheduler
xTaskGetSchedulerState
xTaskGetTickCount
xTaskGetTickCountFromISR
xTaskCreateStatic
xTaskCreate
xTaskGetCurrentTaskHandle
vTaskDelete
vTaskPrioritySet
uxTaskPriorityGet
uxTaskPriorityGetFromISR
vTaskDelay
xTaskGenericNotifyFromISR
xTaskGenericNotify
xTaskNotifyWait
xQueueCreateMutexStatic
xQueueCreateMutex
xQueueReceiveFromISR
xQueueSemaphoreTake
xQueueGiveFromISR
xQueueGenericSend
vQueueDelete
xQueueGenericCreateStatic
xQueueGenericCreate
pvPortMalloc
vPortFree
vPortEnterCritical
vPortExitCritical
xQueueGenericSendFromISR
xQueueReceive
SysTick_Handler
vTaskSuspend
xTaskResumeFromISR
vTaskResume
vTaskSuspendAll
xTaskResumeAll
xQueuePeek
uxQueueMessagesWaiting
uxQueueMessagesWaitingFromISR
uxQueueSpacesAvailable
